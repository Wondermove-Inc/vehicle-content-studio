import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Introduction/Contribution Guide" />

# Contribution Guide

shadcn-storybook-registryì— ê¸°ì—¬í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

## Adding a New Story

ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•:

### 1. Create Story File

ìŠ¤í† ë¦¬ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:

```bash
# íŒŒì¼ ê²½ë¡œ
src/registry/atoms/[component]-story/[component].stories.tsx
```

### 2. Follow Story Structure Pattern

CSF 3.0 í˜•ì‹ì„ ë”°ë¦…ë‹ˆë‹¤:

```typescript
import type { Meta, StoryObj } from "@storybook/nextjs-vite";
import { Component } from "@/components/ui/component";

/**
 * ì»´í¬ë„ŒíŠ¸ì˜ ëª©ì ê³¼ ì‚¬ìš©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.
 */
const meta: Meta<typeof Component> = {
  title: "ui/Component",
  component: Component,
  tags: ["autodocs"],
  parameters: {
    layout: "centered",
  },
} satisfies Meta<typeof Component>;

export default meta;
type Story = StoryObj<typeof meta>;

/**
 * ê¸°ë³¸ ìŠ¤í† ë¦¬ ì„¤ëª….
 */
export const Default: Story = {
  args: {
    variant: "default",
    children: "Example",
  },
};
```

### 3. Add Registry Entry

`registry.json`ì— ì—”íŠ¸ë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:

```json
{
  "name": "component-story",
  "type": "registry:component",
  "title": "Component Story",
  "description": "Interactive Storybook stories for component",
  "categories": ["atoms", "storybook"],
  "registryDependencies": ["component"],
  "dependencies": ["lucide-react"],
  "files": [
    {
      "path": "src/registry/atoms/component-story/component.stories.tsx",
      "type": "registry:component"
    }
  ]
}
```

### 4. Build Registry

Registryë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤:

```bash
npm run registry:build
```

### 5. Test Locally

ë¡œì»¬ì—ì„œ ì„¤ì¹˜ í…ŒìŠ¤íŠ¸:

```bash
npx shadcn@latest add http://localhost:3000/v2/r/component-story.json
```

### 6. Verify in Storybook

Storybookì—ì„œ í™•ì¸:

```bash
npm run storybook
# http://localhost:6006ì—ì„œ ìŠ¤í† ë¦¬ í™•ì¸
```

### 7. Run Quality Checks

í’ˆì§ˆ ê²€ì‚¬ ì‹¤í–‰:

```bash
npm run lint
npm run type-check
npm run test
```

## Code Style Guidelines

### TypeScript

- `satisfies Meta<typeof Component>` ì‚¬ìš©
- Explicit types ì„ í˜¸ (`any` ê¸ˆì§€)
- Form ìŠ¤í‚¤ë§ˆëŠ” `zod`ë¡œ ì •ì˜

### Imports

```typescript
// Framework imports
import type { Meta, StoryObj } from "@storybook/nextjs-vite";

// ALWAYS use @ imports
import { Button } from "@/components/ui/button";

// Icons
import { ChevronRight, Loader2 } from "lucide-react";
```

### Story Naming

- Default: ê¸°ë³¸ ì‚¬ìš© ì˜ˆì œ
- Variants: ë‹¤ì–‘í•œ variant (outline, ghost, secondary ë“±)
- States: Loading, Disabled
- Sizes: Small, Default, Large

### Play Functions

ì¸í„°ë™í‹°ë¸Œ í…ŒìŠ¤íŠ¸ ì¶”ê°€:

```typescript
import { expect, userEvent, within } from "storybook/test";

export const InteractionTest: Story = {
  name: "when user clicks, should show success message",
  tags: ["!dev", "!autodocs"],
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement);
    await userEvent.click(canvas.getByRole("button"));
    await expect(canvas.getByText("Success")).toBeInTheDocument();
  },
};
```

## Documentation

### JSDoc Comments

ëª¨ë“  story exportì— JSDoc ì£¼ì„ ì¶”ê°€:

```typescript
/**
 * Outline variantë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´ì¡° ì•¡ì…˜ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
 */
export const Outline: Story = {
  args: { variant: "outline" },
};
```

### Korean Comments

ì½”ë“œ ì£¼ì„ì€ í•œêµ­ì–´ë¡œ ì‘ì„±:

```typescript
// ğŸ¯ ëª©ì : ì‚¬ìš©ì ì…ë ¥ ê²€ì¦
// ğŸ“ ì£¼ì˜ì‚¬í•­: ìµœì†Œ 6ì ì´ìƒ í•„ìˆ˜
```

## Commit Message Format

Conventional Commits í˜•ì‹ ì‚¬ìš©:

```bash
feat: add Calendar story with date range picker

- Update registry.json with calendar-story entry
- Add Korean comments to date picker implementation
- Add Play function for interaction testing

Related to Component Story Enhancement

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

## Pull Request Process

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Run all quality checks
5. Commit with proper message
6. Push to your fork
7. Create Pull Request

## Questions?

- [GitHub Issues](https://github.com/lloydrichards/shadcn-storybook-registry/issues)
- [Discussions](https://github.com/lloydrichards/shadcn-storybook-registry/discussions)

Thank you for contributing! ğŸ‰
