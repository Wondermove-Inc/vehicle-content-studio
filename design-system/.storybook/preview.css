/* 스토리북 테마별 배경색 설정 */
/* 초기 로딩 시 다크 모드 깜박임 방지 - 최우선 적용 */
html,
html:root {
  background-color: #0a0a0a !important;
  color: #fafafa !important;
  color-scheme: dark !important;
}

body {
  background-color: #0a0a0a !important;
}

/* Storybook 기본 영역 초기 스타일 */
.sb-show-main,
.sb-main-padded,
#storybook-root,
#storybook-preview-wrapper {
  background-color: #0a0a0a !important;
}

/* 테마 클래스가 적용된 후 CSS 변수 사용 */
html.theme-default-dark,
html.theme-default-dark body {
  background-color: var(--color-background, #0a0a0a) !important;
  color: var(--color-foreground, #fafafa) !important;
}

html.theme-default-dark .sb-show-main,
html.theme-default-dark .sb-main-padded,
html.theme-default-dark #storybook-root,
html.theme-default-dark #storybook-preview-wrapper {
  background-color: var(--color-background, #0a0a0a) !important;
}

/* 라이트 모드 테마 적용 시 */
html.theme-default-light,
html.theme-default-light body {
  background-color: var(--color-background, #ffffff) !important;
  color: var(--color-foreground, #0a0a0a) !important;
  color-scheme: light !important;
}

html.theme-default-light .sb-show-main,
html.theme-default-light .sb-main-padded,
html.theme-default-light #storybook-root,
html.theme-default-light #storybook-preview-wrapper {
  background-color: var(--color-background, #ffffff) !important;
}

/* 도큐멘트 모드에서도 배경색 적용 */
.docs-story {
  background-color: #0a0a0a !important;
}

html.theme-default-light .docs-story {
  background-color: var(--color-background, #ffffff) !important;
}

html.theme-default-dark .docs-story {
  background-color: var(--color-background, #0a0a0a) !important;
}

/* 탭 컨테이너 스크롤바 스타일 - VS Code 스타일 참고 */
.overflow-x-auto {
  scrollbar-width: auto;
  scrollbar-color: hsl(var(--border)) transparent;
}

.overflow-x-auto::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}

.overflow-x-auto::-webkit-scrollbar-track {
  background: transparent;
}

.overflow-x-auto::-webkit-scrollbar-thumb {
  background-color: hsl(var(--border));
  background-clip: content-box;
  border: 2px solid transparent;
  border-radius: 4px;
}

.overflow-x-auto::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--border));
  opacity: 0.8;
}

/* 테마 스위처를 라디오 버튼 스타일로 변경 */
[data-addon-id="themes"] {
  & > button {
    position: relative;
    padding-left: 20px !important;
    
    &::before {
      content: "";
      position: absolute;
      left: 4px;
      top: 50%;
      transform: translateY(-50%);
      width: 12px;
      height: 12px;
      border: 2px solid currentColor;
      border-radius: 50%;
      background-color: transparent;
      transition: background-color 0.2s ease;
    }
    
    &[aria-pressed="true"]::before {
      background-color: currentColor;
      box-shadow: inset 0 0 0 2px hsl(0 0% 100%);
    }
  }
  
  /* 드롭다운 메뉴를 라디오 버튼 그룹처럼 보이도록 */
  [role="menu"] {
    & button {
      position: relative;
      padding-left: 28px !important;
      
      &::before {
        content: "";
        position: absolute;
        left: 8px;
        top: 50%;
        transform: translateY(-50%);
        width: 14px;
        height: 14px;
        border: 2px solid var(--color-muted-foreground);
        border-radius: 50%;
        background-color: transparent;
      }

      &[aria-checked="true"]::before {
        background-color: hsl(207 90% 54%);
        border-color: hsl(207 90% 54%);
        box-shadow: inset 0 0 0 3px hsl(0 0% 100%);
      }
    }
  }
}