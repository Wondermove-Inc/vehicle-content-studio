"use client";
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,r=require("../node_modules/tslib/tslib.es6.js"),i=require("react/jsx-runtime"),n=require("../node_modules/@mui/material/styles/styled.js"),s=require("react"),l=require("../Checkbox/Checkbox.js"),a=require("../hook/useEffectAfterMount.js"),t=require("../Table/Table.js"),o=require("../TableBody/TableBody.js"),d=require("../TableCell/TableCell.js"),c=require("../TableContainer/TableContainer.js"),h=require("../TableHead/TableHead.js"),u=require("../TablePagination/TablePagination.js"),b=require("../TableRow/TableRow.js"),g=require("../TableSortLabel/TableSortLabel.js"),x=require("../utils/table.js"),j=s.forwardRef((function(e,n){var j=e.hdsProps,p=e.rows,T=e.columns,m=e.search,P=e.rowsPerPageOptions,f=void 0===P?[10,25,50,100]:P,C=e.onClickRow,w=e.onSelectionChanged,k=e.initialOrder,_=e.initialOrderBy,v=e.initialSelected,y=e.initialPage,S=e.initialRowsPerPage,q=r.__rest(e,["hdsProps","rows","columns","search","rowsPerPageOptions","onClickRow","onSelectionChanged","initialOrder","initialOrderBy","initialSelected","initialPage","initialRowsPerPage"]);j&&!0!==j||(j={});var O=s.useState(k||"asc"),R=O[0],B=O[1],A=s.useState(_||""),H=A[0],I=A[1],M=s.useState(v||[]),N=M[0],L=M[1],D=s.useState(y||0),z=D[0],E=D[1],F=s.useState(S||10),V=F[0],G=F[1],J=s.useState(m),K=J[0],Q=J[1],U=s.useMemo((function(){return p.map((function(e,i){return r.__assign({hds__id:i},e)}))}),[p]),W=s.useMemo((function(){return x.sortedValues({rows:U,order:R,orderBy:H,search:K})}),[U,R,H,K]),X=s.useMemo((function(){return-1===V?W:W.slice(z*V,z*V+V)}),[W,z,V]),Y=0===X.length;return s.useEffect((function(){Q(m),E(0)}),[m]),a.default((function(){null==w||w(N)}),[N]),i.jsxs("div",r.__assign({ref:n},q,{children:[i.jsx(c.TableContainer,{children:i.jsx(t.Table,{hdsProps:{size:j.size},stickyHeader:!0,style:j.tableStyle,children:Y?i.jsxs(s.Fragment,{children:[i.jsx(h.TableHead,{children:i.jsxs(b.TableRow,{children:[i.jsx(d.TableCell,{hdsProps:!0,padding:"checkbox",sx:{width:56},children:i.jsx(l.Checkbox,{hdsProps:!0,disabled:!0})}),T.map((function(e){return i.jsx(d.TableCell,{hdsProps:{align:e.columnAlign},sx:{width:e.width},children:i.jsx(g.TableSortLabel,{hdsProps:!0,children:e.label})},e.id)}))]})}),i.jsx(o.TableBody,{children:i.jsx(b.TableRow,{children:i.jsx(d.TableCell,{hdsProps:{align:T[0].columnAlign},colSpan:U.length,children:j.emptyItem?j.emptyItem:"No Item"})})})]},"empty-table"):i.jsxs(i.Fragment,{children:[i.jsx(h.TableHead,{children:i.jsxs(b.TableRow,{children:[j.isCheckbox&&i.jsx(d.TableCell,{hdsProps:!0,padding:"checkbox",sx:{width:56},children:i.jsx(l.Checkbox,{hdsProps:!0,indeterminate:N.length>0&&N.length<U.length,checked:U.length>0&&N.length===U.length,onChange:function(e){return r=e,void(N.length>0&&N.length<U.length||r.target.checked?L(U.map((function(e){return e.hds__id}))):L([]));var r}})}),T.map((function(e){return i.jsx(d.TableCell,{hdsProps:{align:e.columnAlign},sortDirection:H===e.id&&R,sx:{width:e.width},children:i.jsx(g.TableSortLabel,{hdsProps:!0,active:H===e.id,direction:H===e.id?R:"asc",onClick:function(){return r=e.id,i=H===r&&"desc"===R,B(H===r&&"asc"===R?"desc":"asc"),void I(i?"":r);var r,i},children:e.label})},e.id)}))]})}),i.jsx(o.TableBody,{children:X.map((function(e,n){var s=e.hds__id.toString(),a=-1!==N.indexOf(Number(s));return i.jsxs(b.TableRow,{hover:!0,onClick:function(){var e,r,i;null==C||C(Number(s)),j.isCheckbox&&(e=Number(s),r=N.indexOf(e),i=[],-1===r?i=i.concat(N,e):0===r?i=i.concat(N.slice(1)):r===N.length-1?i=i.concat(N.slice(0,-1)):r>0&&(i=i.concat(N.slice(0,r),N.slice(r+1))),L(i))},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,sx:r.__assign({},j.isCheckbox&&{cursor:"pointer"}),children:[j.isCheckbox&&i.jsx(d.TableCell,{hdsProps:!0,children:i.jsx(l.Checkbox,{hdsProps:!0,checked:a})}),Object.keys(e).map((function(r){if("hds__id"!==r){var n=T.find((function(e){return e.id===r}));return i.jsx(d.TableCell,{hdsProps:{align:null==n?void 0:n.rowAlign},children:e[r]},r)}}))]},s)}))})]})})}),i.jsx(u.TablePagination,{hdsProps:!0,component:"div",count:W.length,rowsPerPage:V,rowsPerPageOptions:f,onRowsPerPageChange:function(e){G(parseInt(e.target.value,10)),E(0)},page:z,onPageChange:function(e,r){return E(r)}})]}))})),p=n.default(j)(e||(e=r.__makeTemplateObject([""],[""])));p.displayName="TableDataCustom",exports.TableDataCustom=p,exports.default=p;
