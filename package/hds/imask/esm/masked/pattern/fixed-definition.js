import t from"../../core/change-details.js";import{DIRECTION as e,isString as i}from"../../core/utils.js";import a from"../../core/continuous-tail-details.js";class s{constructor(t){Object.assign(this,t),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,i){return void 0===e&&(e=0),void 0===i&&(i=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(i),this._value||(this._isRawInput=!1),new t}nearestInputPos(t,i){void 0===i&&(i=e.NONE);const a=this._value.length;switch(i){case e.LEFT:case e.FORCE_LEFT:return 0;case e.NONE:case e.RIGHT:case e.FORCE_RIGHT:default:return a}}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),this._isRawInput?e-t:0}extractInput(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),void 0===i&&(i={}),i.raw&&this._isRawInput&&this._value.slice(t,e)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(e,i){if(void 0===i&&(i={}),this.isFilled)return new t;const a=!0===this.eager||"append"===this.eager,s=this.char===e&&(this.isUnmasking||i.input||i.raw)&&(!i.raw||!a)&&!i.tail,r=new t({inserted:this.char,rawInserted:s?this.char:""});return this._value=this.char,this._isRawInput=s&&(i.raw||i.input),r}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new t;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new a("")}appendTail(t){return i(t)&&(t=new a(String(t))),t.appendTo(this)}append(t,e,i){const a=this._appendChar(t[0],e);return null!=i&&(a.tailShift+=this.appendTail(i).tailShift),a}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value,this._isRawInput=Boolean(t._rawInputValue)}pad(t){return this._appendPlaceholder()}}export{s as default};
