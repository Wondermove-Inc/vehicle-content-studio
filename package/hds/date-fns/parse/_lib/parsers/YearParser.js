import{Parser as e}from"../Parser.js";import{mapValue as r,parseNDigits as t,normalizeTwoDigitYear as s}from"../utils.js";class a extends e{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,s,a){const i=e=>({year:e,isTwoDigitYear:"yy"===s});switch(s){case"y":return r(t(4,e),i);case"yo":return r(a.ordinalNumber(e,{unit:"year"}),i);default:return r(t(s.length,e),i)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t){const a=e.getFullYear();if(t.isTwoDigitYear){const r=s(t.year,a);return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}const i="era"in r&&1!==r.era?1-t.year:t.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}export{a as YearParser};
