import t from"../merge.js";import{getPath as e,getStyleValue as r}from"../style.js";import{createEmptyBreakpointObject as n,handleBreakpoints as o,removeUnusedBreakpoints as s}from"../breakpoints.js";import i from"./defaultSxConfig.js";import f from"../../../utils/capitalize/capitalize.js";function u(){function u(t,n,s,i){const u={[t]:n,theme:s},c=i[t];if(!c)return{[t]:n};const{cssProperty:l=t,themeKey:a,transform:p,style:m}=c;if(null==n)return null;if("typography"===a&&"inherit"===n)return{[t]:n};const y=e(s,a)||{};if(m)return m(u);return o(u,n,(e=>{let n=r(y,p,e);return e===n&&"string"==typeof e&&(n=r(y,p,`${t}${"default"===e?"":f(e)}`,e)),!1===l?n:{[l]:n}}))}return function e(r){var f;const{sx:c,theme:l={}}=r||{};if(!c)return null;const a=null!=(f=l.unstable_sxConfig)?f:i;function p(r){let i=r;if("function"==typeof r)i=r(l);else if("object"!=typeof r)return r;if(!i)return null;const f=n(l.breakpoints),c=Object.keys(f);let p=f;return Object.keys(i).forEach((r=>{const n=(s=i[r],f=l,"function"==typeof s?s(f):s);var s,f;if(null!=n)if("object"==typeof n)if(a[r])p=t(p,u(r,n,l,a));else{const s=o({theme:l},n,(t=>({[r]:t})));!function(...t){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]),r=new Set(e);return t.every((t=>r.size===Object.keys(t).length))}(s,n)?p=t(p,s):p[r]=e({sx:n,theme:l})}else p=t(p,u(r,n,l,a))})),s(c,p)}return Array.isArray(c)?c.map(p):p(c)}}const c=u();c.filterProps=["sx"];var l=c;export{l as default,u as unstable_createStyleFunctionSx};
