const e=(e,t)=>{let r=t.length-1;for(;r>=0&&!e.isItemNavigable(t[r]);)r-=1;if(-1!==r)return t[r]},t=(r,n)=>{const d=r.getItemMeta(n),i=r.getItemOrderedChildrenIds(d.parentId),I=r.getItemIndex(n);if(0===I)return d.parentId;let l=I-1;for(;!r.isItemNavigable(i[l])&&l>=0;)l-=1;if(-1===l)return null==d.parentId?null:t(r,d.parentId);let a=i[l],s=e(r,r.getItemOrderedChildrenIds(a));for(;r.isItemExpanded(a)&&null!=s;)a=s,s=r.getItemOrderedChildrenIds(a).find(r.isItemNavigable);return a},r=(e,t)=>{if(e.isItemExpanded(t)){const r=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(null!=r)return r}let r=e.getItemMeta(t);for(;null!=r;){const t=e.getItemOrderedChildrenIds(r.parentId),n=e.getItemIndex(r.id);if(n<t.length-1){let r=n+1;for(;!e.isItemNavigable(t[r])&&r<t.length-1;)r+=1;if(e.isItemNavigable(t[r]))return t[r]}r=e.getItemMeta(r.parentId)}return null},n=t=>{let r=null;for(;null==r||t.isItemExpanded(r);){const n=t.getItemOrderedChildrenIds(r),d=e(t,n);if(null==d)return r;r=d}return r},d=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),i=(e,t,r)=>{if(t===r)return[t,r];const n=e.getItemMeta(t),d=e.getItemMeta(r);if(n.parentId===d.id||d.parentId===n.id)return d.parentId===n.id?[n.id,d.id]:[d.id,n.id];const i=[n.id],I=[d.id];let l=n.parentId,a=d.parentId,s=-1!==I.indexOf(l),m=-1!==i.indexOf(a),g=!0,u=!0;for(;!m&&!s;)g&&(i.push(l),s=-1!==I.indexOf(l),g=null!==l,!s&&g&&(l=e.getItemMeta(l).parentId)),u&&!s&&(I.push(a),m=-1!==i.indexOf(a),u=null!==a,!m&&u&&(a=e.getItemMeta(a).parentId));const f=s?l:a,p=e.getItemOrderedChildrenIds(f),o=i[i.indexOf(f)-1],h=I[I.indexOf(f)-1];return p.indexOf(o)<p.indexOf(h)?[t,r]:[r,t]},I=(e,t,r)=>{const n=t=>{if(e.isItemExpandable(t)&&e.isItemExpanded(t))return e.getItemOrderedChildrenIds(t)[0];let r=e.getItemMeta(t);for(;null!=r;){const t=e.getItemOrderedChildrenIds(r.parentId),n=e.getItemIndex(r.id);if(n<t.length-1)return t[n+1];r=e.getItemMeta(r.parentId)}throw new Error("Invalid range")},[d,I]=i(e,t,r),l=[d];let a=d;for(;a!==I;)a=n(a),e.isItemDisabled(a)||l.push(a);return l},l=e=>{let t=d(e);const n=[];for(;null!=t;)n.push(t),t=r(e,t);return n};export{i as findOrderInTremauxTree,l as getAllNavigableItems,d as getFirstNavigableItem,n as getLastNavigableItem,r as getNextNavigableItem,I as getNonDisabledItemsInRange,t as getPreviousNavigableItem};
