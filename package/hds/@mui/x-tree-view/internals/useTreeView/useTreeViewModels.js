import e from"../../../../@babel/runtime/helpers/esm/extends.js";import*as t from"react";const o=(o,n)=>{const r=t.useRef({}),[l,s]=t.useState((()=>{const e={};return o.forEach((t=>{t.models&&Object.entries(t.models).forEach((([t,o])=>{r.current[t]={isControlled:void 0!==n[t],getDefaultValue:o.getDefaultValue},e[t]=o.getDefaultValue(n)}))})),e})),i=Object.fromEntries(Object.entries(r.current).map((([t,o])=>{const r=n[t]??l[t];return[t,{value:r,setControlledValue:n=>{o.isControlled||s((o=>e({},o,{[t]:n})))}}]})));return"production"!==process.env.NODE_ENV&&Object.entries(r.current).forEach((([e,o])=>{const r=n[e],l=o.getDefaultValue(n);t.useEffect((()=>{o.isControlled!==(void 0!==r)&&console.error([`MUI X: A component is changing the ${o.isControlled?"":"un"}controlled ${e} state of TreeView to be ${o.isControlled?"un":""}controlled.`,"Elements should not switch from uncontrolled to controlled (or vice versa).",`Decide between using a controlled or uncontrolled ${e} element for the lifetime of the component.`,"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.","More info: https://fb.me/react-controlled-components"].join("\n"))}),[r]);const{current:s}=t.useRef(l);t.useEffect((()=>{o.isControlled||s===l||console.error([`MUI X: A component is changing the default ${e} state of an uncontrolled TreeView after being initialized. To suppress this warning opt to use a controlled TreeView.`].join("\n"))}),[JSON.stringify(l)])})),i};export{o as useTreeViewModels};
