import{useTreeViewContext as e}from"../internals/TreeViewProvider/useTreeViewContext.js";function t(t){const{instance:n,selection:{multiSelect:i,checkboxSelection:c,disableSelection:s}}=e(),l=n.isItemExpandable(t),o=n.isItemExpanded(t),a=n.isItemFocused(t),d=n.isItemSelected(t),m=n.isItemDisabled(t);return{disabled:m,expanded:o,selected:d,focused:a,disableSelection:s,checkboxSelection:c,handleExpansion:e=>{if(!m){a||n.focusItem(e,t);const c=i&&(e.shiftKey||e.ctrlKey||e.metaKey);!l||c&&n.isItemExpanded(t)||n.toggleItemExpansion(e,t)}},handleSelection:e=>{if(!m){a||n.focusItem(e,t);i&&(e.shiftKey||e.ctrlKey||e.metaKey)?e.shiftKey?n.expandSelectionRange(e,t):n.selectItem(e,t,!0):n.selectItem(e,t,!1)}},handleCheckboxSelection:e=>{if(s||m)return;const c=e.nativeEvent.shiftKey;i&&c?n.expandSelectionRange(e,t):n.selectItem(e,t,i,e.target.checked)},preventSelection:e=>{(e.shiftKey||e.ctrlKey||e.metaKey||m)&&e.preventDefault()}}}export{t as useTreeItemState};
