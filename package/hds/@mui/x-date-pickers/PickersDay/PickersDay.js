import e from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import o from"../../../@babel/runtime/helpers/esm/extends.js";import*as t from"react";import s from"../../../prop-types/index.js";import{clsx as r}from"../node_modules/clsx/dist/clsx.js";import{useUtils as i}from"../internals/hooks/useUtils.js";import{DAY_SIZE as a,DAY_MARGIN as n}from"../internals/constants/dimensions.js";import{pickersDayClasses as l,getPickersDayUtilityClass as d}from"./pickersDayClasses.js";import{jsx as c}from"react/jsx-runtime";import u from"../../material/styles/styled.js";import p from"../../material/ButtonBase/ButtonBase.js";import m from"../../material/styles/useThemeProps.js";import y from"../../utils/useForkRef/useForkRef.js";import h from"../../utils/useEnhancedEffect/useEnhancedEffect.js";import b from"../../utils/composeClasses/composeClasses.js";import{alpha as f}from"../../system/esm/colorManipulator.js";const g=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],M=({theme:e})=>o({},e.typography.caption,{width:a,height:a,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:f(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:f(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${l.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${l.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${l.disabled}:not(.${l.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${l.disabled}&.${l.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${n}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${l.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),C=(e,o)=>{const{ownerState:t}=e;return[o.root,!t.disableMargin&&o.dayWithMargin,!t.disableHighlightToday&&t.today&&o.today,!t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&o.dayOutsideMonth,t.outsideCurrentMonth&&!t.showDaysOutsideCurrentMonth&&o.hiddenDaySpacingFiller]},D=u(p,{name:"MuiPickersDay",slot:"Root",overridesResolver:C})(M),v=u("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:C})((({theme:e})=>o({},M({theme:e}),{opacity:0,pointerEvents:"none"}))),R=()=>{},j=t.forwardRef((function(s,a){const n=m({props:s,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,day:p,disabled:f=!1,disableHighlightToday:M=!1,disableMargin:C=!1,isAnimating:j,onClick:w,onDaySelect:k,onFocus:O=R,onBlur:T=R,onKeyDown:F=R,onMouseDown:x=R,onMouseEnter:$=R,outsideCurrentMonth:E,selected:S=!1,showDaysOutsideCurrentMonth:q=!1,children:B,today:N=!1}=n,V=e(n,g),H=o({},n,{autoFocus:l,disabled:f,disableHighlightToday:M,disableMargin:C,selected:S,showDaysOutsideCurrentMonth:q,today:N}),P=(e=>{const{selected:o,disableMargin:t,disableHighlightToday:s,today:r,disabled:i,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:n,classes:l}=e,c=a&&!n;return b({root:["root",o&&!c&&"selected",i&&"disabled",!t&&"dayWithMargin",!s&&r&&"today",a&&n&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},d,l)})(H),W=i(),K=t.useRef(null),A=y(K,a);h((()=>{!l||f||j||E||K.current.focus()}),[l,f,j,E]);return E&&!q?c(v,{className:r(P.root,P.hiddenDaySpacingFiller,u),ownerState:H,role:V.role}):c(D,o({className:r(P.root,u),ref:A,centerRipple:!0,disabled:f,tabIndex:S?0:-1,onKeyDown:e=>F(e,p),onFocus:e=>O(e,p),onBlur:e=>T(e,p),onMouseEnter:e=>$(e,p),onClick:e=>{f||k(p),E&&e.currentTarget.focus(),w&&w(e)},onMouseDown:e=>{x(e),E&&e.preventDefault()}},V,{ownerState:H,children:B||W.format(p,"dayOfMonth")}))}));"production"!==process.env.NODE_ENV&&(j.propTypes={action:s.oneOfType([s.func,s.shape({current:s.shape({focusVisible:s.func.isRequired})})]),centerRipple:s.bool,classes:s.object,className:s.string,component:s.elementType,day:s.object.isRequired,disabled:s.bool,disableHighlightToday:s.bool,disableMargin:s.bool,disableRipple:s.bool,disableTouchRipple:s.bool,focusRipple:s.bool,focusVisibleClassName:s.string,isAnimating:s.bool,isFirstVisibleCell:s.bool.isRequired,isLastVisibleCell:s.bool.isRequired,onBlur:s.func,onDaySelect:s.func.isRequired,onFocus:s.func,onFocusVisible:s.func,onKeyDown:s.func,onMouseEnter:s.func,outsideCurrentMonth:s.bool.isRequired,selected:s.bool,showDaysOutsideCurrentMonth:s.bool,style:s.object,sx:s.oneOfType([s.arrayOf(s.oneOfType([s.func,s.object,s.bool])),s.func,s.object]),tabIndex:s.number,today:s.bool,TouchRippleProps:s.object,touchRippleRef:s.oneOfType([s.func,s.shape({current:s.shape({pulsate:s.func.isRequired,start:s.func.isRequired,stop:s.func.isRequired})})])});const w=t.memo(j);export{w as PickersDay};
