import*as e from"react";import{useUtils as a}from"./useUtils.js";import t from"../../../utils/useControlled/useControlled.js";import l from"../../../utils/useEventCallback/useEventCallback.js";const n=({timezone:t,value:n,defaultValue:u,onChange:o,valueManager:r})=>{const s=a(),m=e.useRef(u),i=n??m.current??r.emptyValue,v=e.useMemo((()=>r.getTimezone(s,i)),[s,r,i]),d=l((e=>null==v?e:r.setTimezone(s,v,e))),f=t??v??"default";return{value:e.useMemo((()=>r.setTimezone(s,f,i)),[r,s,f,i]),handleValueChange:l(((e,...a)=>{const t=d(e);o?.(t,...a)})),timezone:f}},u=({name:e,timezone:a,value:u,defaultValue:o,onChange:r,valueManager:s})=>{const[m,i]=t({name:e,state:"value",controlled:u,default:o??s.emptyValue}),v=l(((e,...a)=>{i(e),r?.(e,...a)}));return n({timezone:a,value:m,defaultValue:void 0,onChange:v,valueManager:s})};export{u as useControlledValueWithTimezone,n as useValueWithTimezone};
