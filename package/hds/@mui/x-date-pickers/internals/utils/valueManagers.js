import e from"../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import{getTodayDate as l,replaceInvalidDateByNull as t,areDatesEqual as r}from"./date-utils.js";import{getDefaultReferenceDate as a}from"./getDefaultReferenceDate.js";import{createDateStrForV7HiddenInputFromSections as u,createDateStrForV6InputFromSections as i}from"../hooks/useField/useField.utils.js";const n=["value","referenceDate"],o={emptyValue:null,getTodayValue:l,getInitialReferenceValue:l=>{let{value:t,referenceDate:r}=l,u=e(l,n);return null!=t&&u.utils.isValid(t)?t:null!=r?r:a(u)},cleanValue:t,areValuesEqual:r,isSameError:(e,l)=>e===l,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,l)=>null!=l&&e.isValid(l)?e.getTimezone(l):null,setTimezone:(e,l,t)=>null==t?null:e.setTimezone(t,l)},s={updateReferenceValue:(e,l,t)=>null!=l&&e.isValid(l)?l:t,getSectionsFromValue:(e,l,t,r)=>!e.isValid(l)&&!!t?t:r(l),getV7HiddenInputValueFromSections:u,getV6InputValueFromSections:i,getActiveDateManager:(e,l)=>({date:l.value,referenceDate:l.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:t=>({value:t,referenceValue:null!=t&&e.isValid(t)?t:l.referenceValue})}),parseValueStr:(e,l,t)=>t(e.trim(),l)};export{s as singleItemFieldValueManager,o as singleItemValueManager};
