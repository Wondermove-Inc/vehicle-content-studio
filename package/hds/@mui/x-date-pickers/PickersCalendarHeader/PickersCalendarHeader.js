import e from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import t from"../../../@babel/runtime/helpers/esm/extends.js";import*as o from"react";import r from"../../../prop-types/index.js";import{clsx as i}from"../node_modules/clsx/dist/clsx.js";import{useLocaleText as s,useUtils as a}from"../internals/hooks/useUtils.js";import{PickersFadeTransitionGroup as n}from"../DateCalendar/PickersFadeTransitionGroup.js";import{ArrowDropDownIcon as l}from"../icons/index.js";import{useNextMonthDisabled as m,usePreviousMonthDisabled as d}from"../internals/hooks/date-helpers-hooks.js";import{pickersCalendarHeaderClasses as c,getPickersCalendarHeaderUtilityClass as h}from"./pickersCalendarHeaderClasses.js";import{jsxs as u,jsx as p}from"react/jsx-runtime";import w from"../../material/styles/styled.js";import f from"../../material/IconButton/IconButton.js";import b from"../../material/styles/useThemeProps.js";import{useSlotProps as g}from"../../base/utils/useSlotProps.js";import v from"../../material/Fade/Fade.js";import{PickersArrowSwitcher as y}from"../internals/components/PickersArrowSwitcher/PickersArrowSwitcher.js";import j from"../../utils/composeClasses/composeClasses.js";const P=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],C=["ownerState"],x=w("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),R=w("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((({theme:e})=>t({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium}))),V=w("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),M=w(f,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${c.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),I=w(l,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"}))),S=o.forwardRef((function(o,r){const l=s(),c=a(),w=b({props:o,name:"MuiPickersCalendarHeader"}),{slots:f,slotProps:S,currentMonth:k,disabled:B,disableFuture:D,disablePast:N,maxDate:T,minDate:q,onMonthChange:H,onViewChange:O,view:A,reduceAnimations:F,views:L,labelId:z,className:G,timezone:W,format:$=`${c.formats.month} ${c.formats.year}`}=w,E=e(w,P),_=w,K=(e=>{const{classes:t}=e;return j({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},h,t)})(w),U=f?.switchViewButton??M,J=g({elementType:U,externalSlotProps:S?.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(A)},ownerState:_,className:K.switchViewButton}),Q=f?.switchViewIcon??I,X=g({elementType:Q,externalSlotProps:S?.switchViewIcon,ownerState:void 0,className:K.switchViewIcon}),Y=e(X,C),Z=m(k,{disableFuture:D,maxDate:T,timezone:W}),ee=d(k,{disablePast:N,minDate:q,timezone:W});if(1===L.length&&"year"===L[0])return null;const te=c.formatByString(k,$);return u(x,t({},E,{ownerState:_,className:i(G,K.root),ref:r,children:[u(R,{role:"presentation",onClick:()=>{if(1!==L.length&&O&&!B)if(2===L.length)O(L.find((e=>e!==A))||L[0]);else{const e=0!==L.indexOf(A)?0:1;O(L[e])}},ownerState:_,"aria-live":"polite",className:K.labelContainer,children:[p(n,{reduceAnimations:F,transKey:te,children:p(V,{id:z,ownerState:_,className:K.label,children:te})}),L.length>1&&!B&&p(U,t({},J,{children:p(Q,t({},Y))}))]}),p(v,{in:"day"===A,children:p(y,{slots:f,slotProps:S,onGoToPrevious:()=>H(c.addMonths(k,-1),"right"),isPreviousDisabled:ee,previousLabel:l.previousMonth,onGoToNext:()=>H(c.addMonths(k,1),"left"),isNextDisabled:Z,nextLabel:l.nextMonth})})]}))}));"production"!==process.env.NODE_ENV&&(S.propTypes={classes:r.object,className:r.string,currentMonth:r.object.isRequired,disabled:r.bool,disableFuture:r.bool,disablePast:r.bool,format:r.string,labelId:r.string,maxDate:r.object.isRequired,minDate:r.object.isRequired,onMonthChange:r.func.isRequired,onViewChange:r.func,reduceAnimations:r.bool.isRequired,slotProps:r.object,slots:r.object,sx:r.oneOfType([r.arrayOf(r.oneOfType([r.func,r.object,r.bool])),r.func,r.object]),timezone:r.string.isRequired,view:r.oneOf(["day","month","year"]).isRequired,views:r.arrayOf(r.oneOf(["day","month","year"]).isRequired).isRequired});export{S as PickersCalendarHeader};
