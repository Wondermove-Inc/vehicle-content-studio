import e from"../../../@babel/runtime/helpers/esm/extends.js";import t from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import*as o from"react";import{ClearIcon as r}from"../icons/index.js";import{useLocaleText as n}from"../internals/hooks/useUtils.js";import{jsxs as s,jsx as l}from"react/jsx-runtime";import a from"../../material/IconButton/IconButton.js";import{useSlotProps as i}from"../../base/utils/useSlotProps.js";import m from"../../material/InputAdornment/InputAdornment.js";const p=["clearable","onClear","InputProps","sx","slots","slotProps"],c=["ownerState"],u=u=>{const d=n(),{clearable:f,onClear:h,InputProps:x,sx:P,slots:b,slotProps:j}=u,I=t(u,p),B=b?.clearButton??a,y=i({elementType:B,externalSlotProps:j?.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:d.fieldClearLabel}}),A=t(y,c),S=b?.clearIcon??r,w=i({elementType:S,externalSlotProps:j?.clearIcon,ownerState:{}});return e({},I,{InputProps:e({},x,{endAdornment:s(o.Fragment,{children:[f&&l(m,{position:"end",sx:{marginRight:x?.endAdornment?-1:-1.5},children:l(B,e({},A,{onClick:h,children:l(S,e({fontSize:"small"},w))}))}),x?.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(P)?P:[P]]})};export{u as useClearableField};
