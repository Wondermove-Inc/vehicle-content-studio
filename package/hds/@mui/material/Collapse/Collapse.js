"use client";
import e from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import t from"../../../@babel/runtime/helpers/esm/extends.js";import*as n from"react";import{clsx as o}from"../../../clsx/dist/clsx.js";import i from"../../../prop-types/index.js";import r from"../styles/styled.js";import s from"../styles/useThemeProps.js";import{duration as a}from"../styles/createTransitions.js";import{getTransitionProps as l}from"../transitions/utils.js";import p from"../styles/useTheme.js";import{getCollapseUtilityClass as u}from"./collapseClasses.js";import{jsx as d}from"react/jsx-runtime";import m from"../../../react-transition-group/esm/Transition.js";import c from"../../utils/useTimeout/useTimeout.js";import f from"../../utils/useForkRef/useForkRef.js";import h from"../../utils/elementTypeAcceptingRef/elementTypeAcceptingRef.js";import g from"../../utils/composeClasses/composeClasses.js";const y=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],x=r("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((({theme:e,ownerState:n})=>t({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===n.state&&t({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"}))),E=r("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((({ownerState:e})=>t({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),w=r("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((({ownerState:e})=>t({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),j=n.forwardRef((function(i,r){const h=s({props:i,name:"MuiCollapse"}),{addEndListener:j,children:b,className:v,collapsedSize:T="0px",component:S,easing:R,in:z,onEnter:$,onEntered:C,onEntering:O,onExit:N,onExited:D,onExiting:A,orientation:I="vertical",style:L,timeout:W=a.standard,TransitionComponent:F=m}=h,H=e(h,y),M=t({},h,{orientation:I,collapsedSize:T}),k=(e=>{const{orientation:t,classes:n}=e;return g({root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]},u,n)})(M),P=p(),V=c(),_=n.useRef(null),q=n.useRef(),B="number"==typeof T?`${T}px`:T,G="horizontal"===I,J=G?"width":"height",K=n.useRef(null),Q=f(r,K),U=e=>t=>{if(e){const n=K.current;void 0===t?e(n):e(n,t)}},X=()=>_.current?_.current[G?"clientWidth":"clientHeight"]:0,Y=U(((e,t)=>{_.current&&G&&(_.current.style.position="absolute"),e.style[J]=B,$&&$(e,t)})),Z=U(((e,t)=>{const n=X();_.current&&G&&(_.current.style.position="");const{duration:o,easing:i}=l({style:L,timeout:W,easing:R},{mode:"enter"});if("auto"===W){const t=P.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,q.current=t}else e.style.transitionDuration="string"==typeof o?o:`${o}ms`;e.style[J]=`${n}px`,e.style.transitionTimingFunction=i,O&&O(e,t)})),ee=U(((e,t)=>{e.style[J]="auto",C&&C(e,t)})),te=U((e=>{e.style[J]=`${X()}px`,N&&N(e)})),ne=U(D),oe=U((e=>{const t=X(),{duration:n,easing:o}=l({style:L,timeout:W,easing:R},{mode:"exit"});if("auto"===W){const n=P.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,q.current=n}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[J]=B,e.style.transitionTimingFunction=o,A&&A(e)}));return d(F,t({in:z,onEnter:Y,onEntered:ee,onEntering:Z,onExit:te,onExited:ne,onExiting:oe,addEndListener:e=>{"auto"===W&&V.start(q.current||0,e),j&&j(K.current,e)},nodeRef:K,timeout:"auto"===W?null:W},H,{children:(e,n)=>d(x,t({as:S,className:o(k.root,v,{entered:k.entered,exited:!z&&"0px"===B&&k.hidden}[e]),style:t({[G?"minWidth":"minHeight"]:B},L),ref:Q},n,{ownerState:t({},M,{state:e}),children:d(E,{ownerState:t({},M,{state:e}),className:k.wrapper,ref:_,children:d(w,{ownerState:t({},M,{state:e}),className:k.wrapperInner,children:b})})}))}))}));"production"!==process.env.NODE_ENV&&(j.propTypes={addEndListener:i.func,children:i.node,classes:i.object,className:i.string,collapsedSize:i.oneOfType([i.number,i.string]),component:h,easing:i.oneOfType([i.shape({enter:i.string,exit:i.string}),i.string]),in:i.bool,onEnter:i.func,onEntered:i.func,onEntering:i.func,onExit:i.func,onExited:i.func,onExiting:i.func,orientation:i.oneOf(["horizontal","vertical"]),style:i.object,sx:i.oneOfType([i.arrayOf(i.oneOfType([i.func,i.object,i.bool])),i.func,i.object]),timeout:i.oneOfType([i.oneOf(["auto"]),i.number,i.shape({appear:i.number,enter:i.number,exit:i.number})])}),j.muiSupportAuto=!0;var b=j;export{b as default};
