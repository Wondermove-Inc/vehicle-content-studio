"use client";
import e from"../../../@babel/runtime/helpers/esm/extends.js";import t from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import*as n from"react";import i from"../../../prop-types/index.js";import o from"../styles/useTheme.js";import{reflow as r,getTransitionProps as s}from"../transitions/utils.js";import{jsx as a}from"react/jsx-runtime";import u from"../../utils/useTimeout/useTimeout.js";import m from"../../utils/useForkRef/useForkRef.js";import d from"../../utils/elementAcceptingRef/elementAcceptingRef.js";import p from"../../../react-transition-group/esm/Transition.js";const c=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function l(e){return`scale(${e}, ${e**2})`}const f={entering:{opacity:1,transform:l(1)},entered:{opacity:1,transform:"none"}},g="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),E=n.forwardRef((function(i,d){const{addEndListener:E,appear:y=!0,children:x,easing:h,in:b,onEnter:j,onEntered:v,onEntering:R,onExit:T,onExited:A,onExiting:L,style:H,timeout:O="auto",TransitionComponent:D=p}=i,k=t(i,c),C=u(),F=n.useRef(),N=o(),$=n.useRef(null),_=m($,x.ref,d),q=e=>t=>{if(e){const n=$.current;void 0===t?e(n):e(n,t)}},w=q(R),P=q(((e,t)=>{r(e);const{duration:n,delay:i,easing:o}=s({style:H,timeout:O,easing:h},{mode:"enter"});let a;"auto"===O?(a=N.transitions.getAutoHeightDuration(e.clientHeight),F.current=a):a=n,e.style.transition=[N.transitions.create("opacity",{duration:a,delay:i}),N.transitions.create("transform",{duration:g?a:.666*a,delay:i,easing:o})].join(","),j&&j(e,t)})),S=q(v),V=q(L),W=q((e=>{const{duration:t,delay:n,easing:i}=s({style:H,timeout:O,easing:h},{mode:"exit"});let o;"auto"===O?(o=N.transitions.getAutoHeightDuration(e.clientHeight),F.current=o):o=t,e.style.transition=[N.transitions.create("opacity",{duration:o,delay:n}),N.transitions.create("transform",{duration:g?o:.666*o,delay:g?n:n||.333*o,easing:i})].join(","),e.style.opacity=0,e.style.transform=l(.75),T&&T(e)})),z=q(A);return a(D,e({appear:y,in:b,nodeRef:$,onEnter:P,onEntered:S,onEntering:w,onExit:W,onExited:z,onExiting:V,addEndListener:e=>{"auto"===O&&C.start(F.current||0,e),E&&E($.current,e)},timeout:"auto"===O?null:O},k,{children:(t,i)=>n.cloneElement(x,e({style:e({opacity:0,transform:l(.75),visibility:"exited"!==t||b?void 0:"hidden"},f[t],H,x.props.style),ref:_},i))}))}));"production"!==process.env.NODE_ENV&&(E.propTypes={addEndListener:i.func,appear:i.bool,children:d.isRequired,easing:i.oneOfType([i.shape({enter:i.string,exit:i.string}),i.string]),in:i.bool,onEnter:i.func,onEntered:i.func,onEntering:i.func,onExit:i.func,onExited:i.func,onExiting:i.func,style:i.object,timeout:i.oneOfType([i.oneOf(["auto"]),i.number,i.shape({appear:i.number,enter:i.number,exit:i.number})])}),E.muiSupportAuto=!0;var y=E;export{y as default};
