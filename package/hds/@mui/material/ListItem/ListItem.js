"use client";
import e from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import t from"../../../@babel/runtime/helpers/esm/extends.js";import*as o from"react";import s from"../../../prop-types/index.js";import{clsx as a}from"../../../clsx/dist/clsx.js";import{alpha as n}from"../../system/colorManipulator.js";import i from"../styles/styled.js";import r from"../styles/useThemeProps.js";import l from"../List/ListContext.js";import c,{getListItemUtilityClass as d}from"./listItemClasses.js";import{jsx as p,jsxs as m}from"react/jsx-runtime";import u from"../ListItemButton/listItemButtonClasses.js";import b from"../../utils/useEnhancedEffect/useEnhancedEffect.js";import f from"../../utils/isMuiElement/isMuiElement.js";import g from"../../utils/useForkRef/useForkRef.js";import{isHostComponent as y}from"../../base/utils/isHostComponent.js";import h from"../ListItemSecondaryAction/ListItemSecondaryAction.js";import v from"../../utils/chainPropTypes/chainPropTypes.js";import C from"../../utils/elementTypeAcceptingRef/elementTypeAcceptingRef.js";import j from"../../utils/composeClasses/composeClasses.js";import I from"../ButtonBase/ButtonBase.js";const x=["className"],P=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],A=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,"flex-start"===o.alignItems&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters,!o.disablePadding&&t.padding,o.button&&t.button,o.hasSecondaryAction&&t.secondaryAction]},O=i("div",{name:"MuiListItem",slot:"Root",overridesResolver:A})((({theme:e,ownerState:o})=>t({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!o.disablePadding&&t({paddingTop:8,paddingBottom:8},o.dense&&{paddingTop:4,paddingBottom:4},!o.disableGutters&&{paddingLeft:16,paddingRight:16},!!o.secondaryAction&&{paddingRight:48}),!!o.secondaryAction&&{[`& > .${u.root}`]:{paddingRight:48}},{[`&.${c.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${c.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:n(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${c.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:n(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${c.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===o.alignItems&&{alignItems:"flex-start"},o.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},o.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${c.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:n(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:n(e.palette.primary.main,e.palette.action.selectedOpacity)}}},o.hasSecondaryAction&&{paddingRight:48}))),S=i("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),$=o.forwardRef((function(s,n){const i=r({props:s,name:"MuiListItem"}),{alignItems:u="center",autoFocus:v=!1,button:C=!1,children:A,className:$,component:L,components:N={},componentsProps:R={},ContainerComponent:T="li",ContainerProps:{className:k}={},dense:w=!1,disabled:E=!1,disableGutters:B=!1,disablePadding:F=!1,divider:M=!1,focusVisibleClassName:V,secondaryAction:G,selected:D=!1,slotProps:U={},slots:_={}}=i,z=e(i.ContainerProps,x),H=e(i,P),W=o.useContext(l),Y=o.useMemo((()=>({dense:w||W.dense||!1,alignItems:u,disableGutters:B})),[u,W.dense,w,B]),q=o.useRef(null);b((()=>{v&&(q.current?q.current.focus():"production"!==process.env.NODE_ENV&&console.error("MUI: Unable to set focus to a ListItem whose component has not been rendered."))}),[v]);const J=o.Children.toArray(A),K=J.length&&f(J[J.length-1],["ListItemSecondaryAction"]),Q=t({},i,{alignItems:u,autoFocus:v,button:C,dense:Y.dense,disabled:E,disableGutters:B,disablePadding:F,divider:M,hasSecondaryAction:K,selected:D}),X=(e=>{const{alignItems:t,button:o,classes:s,dense:a,disabled:n,disableGutters:i,disablePadding:r,divider:l,hasSecondaryAction:c,selected:p}=e;return j({root:["root",a&&"dense",!i&&"gutters",!r&&"padding",l&&"divider",n&&"disabled",o&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",p&&"selected"],container:["container"]},d,s)})(Q),Z=g(q,n),ee=_.root||N.Root||O,te=U.root||R.root||{},oe=t({className:a(X.root,te.className,$),disabled:E},H);let se=L||"li";return C&&(oe.component=L||"div",oe.focusVisibleClassName=a(c.focusVisible,V),se=I),K?(se=oe.component||L?se:"div","li"===T&&("li"===se?se="div":"li"===oe.component&&(oe.component="div")),p(l.Provider,{value:Y,children:m(S,t({as:T,className:a(X.container,k),ref:Z,ownerState:Q},z,{children:[p(ee,t({},te,!y(ee)&&{as:se,ownerState:t({},Q,te.ownerState)},oe,{children:J})),J.pop()]}))})):p(l.Provider,{value:Y,children:m(ee,t({},te,{as:se,ref:Z},!y(ee)&&{ownerState:t({},Q,te.ownerState)},oe,{children:[J,G&&p(h,{children:G})]}))})}));"production"!==process.env.NODE_ENV&&($.propTypes={alignItems:s.oneOf(["center","flex-start"]),autoFocus:s.bool,button:s.bool,children:v(s.node,(e=>{const t=o.Children.toArray(e.children);let s=-1;for(let e=t.length-1;e>=0;e-=1){const o=t[e];if(f(o,["ListItemSecondaryAction"])){s=e;break}}return-1!==s&&s!==t.length-1?new Error("MUI: You used an element after ListItemSecondaryAction. For ListItem to detect that it has a secondary action you must pass it as the last child to ListItem."):null})),classes:s.object,className:s.string,component:s.elementType,components:s.shape({Root:s.elementType}),componentsProps:s.shape({root:s.object}),ContainerComponent:C,ContainerProps:s.object,dense:s.bool,disabled:s.bool,disableGutters:s.bool,disablePadding:s.bool,divider:s.bool,focusVisibleClassName:s.string,secondaryAction:s.node,selected:s.bool,slotProps:s.shape({root:s.object}),slots:s.shape({root:s.elementType}),sx:s.oneOfType([s.arrayOf(s.oneOfType([s.func,s.object,s.bool])),s.func,s.object])});var L=$;export{O as ListItemRoot,L as default,A as overridesResolver};
