"use client";
import e from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import o from"../../../@babel/runtime/helpers/esm/extends.js";import*as t from"react";import n from"../../../prop-types/index.js";import{clsx as r}from"../../../clsx/dist/clsx.js";import i from"../FormControl/formControlState.js";import l from"../FormControl/FormControlContext.js";import a from"../FormControl/useFormControl.js";import s from"../styles/styled.js";import u from"../styles/useThemeProps.js";import{isFilled as p}from"./utils.js";import d,{getInputBaseUtilityClass as m}from"./inputBaseClasses.js";import{jsxs as c,jsx as f}from"react/jsx-runtime";import b from"../../utils/useForkRef/useForkRef.js";import h from"../../utils/useEnhancedEffect/useEnhancedEffect.js";import{TextareaAutosize as y}from"../../base/TextareaAutosize/TextareaAutosize.js";import{isHostComponent as g}from"../../base/utils/isHostComponent.js";import w from"../../utils/elementTypeAcceptingRef/elementTypeAcceptingRef.js";import C from"../../utils/refType/refType.js";import v from"../../utils/capitalize/capitalize.js";import x from"../../utils/composeClasses/composeClasses.js";import S from"../GlobalStyles/GlobalStyles.js";import j from"../../utils/formatMuiErrorMessage/formatMuiErrorMessage.js";const E=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],T=(e,o)=>{const{ownerState:t}=e;return[o.root,t.formControl&&o.formControl,t.startAdornment&&o.adornedStart,t.endAdornment&&o.adornedEnd,t.error&&o.error,"small"===t.size&&o.sizeSmall,t.multiline&&o.multiline,t.color&&o[`color${v(t.color)}`],t.fullWidth&&o.fullWidth,t.hiddenLabel&&o.hiddenLabel]},A=(e,o)=>{const{ownerState:t}=e;return[o.input,"small"===t.size&&o.inputSizeSmall,t.multiline&&o.inputMultiline,"search"===t.type&&o.inputTypeSearch,t.startAdornment&&o.inputAdornedStart,t.endAdornment&&o.inputAdornedEnd,t.hiddenLabel&&o.inputHiddenLabel]},R=s("div",{name:"MuiInputBase",slot:"Root",overridesResolver:T})((({theme:e,ownerState:t})=>o({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${d.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&o({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),z=s("input",{name:"MuiInputBase",slot:"Input",overridesResolver:A})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,r=o({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},l=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return o({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${d.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l},[`&.${d.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})})),O=f(S,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),k=t.forwardRef((function(n,s){var d;const w=u({props:n,name:"MuiInputBase"}),{"aria-describedby":C,autoComplete:S,autoFocus:T,className:A,components:k={},componentsProps:F={},defaultValue:N,disabled:I,disableInjectingGlobalStyles:M,endAdornment:P,fullWidth:B=!1,id:W,inputComponent:D="input",inputProps:L={},inputRef:V,maxRows:K,minRows:U,multiline:H=!1,name:$,onBlur:G,onChange:_,onClick:q,onFocus:Y,onKeyDown:J,onKeyUp:Q,placeholder:X,readOnly:Z,renderSuffix:ee,rows:oe,slotProps:te={},slots:ne={},startAdornment:re,type:ie="text",value:le}=w,ae=e(w,E),se=null!=L.value?L.value:le,{current:ue}=t.useRef(null!=se),pe=t.useRef(),de=t.useCallback((e=>{"production"!==process.env.NODE_ENV&&e&&"INPUT"!==e.nodeName&&!e.focus&&console.error(["MUI: You have provided a `inputComponent` to the input component","that does not correctly handle the `ref` prop.","Make sure the `ref` prop is called with a HTMLInputElement."].join("\n"))}),[]),me=b(pe,V,L.ref,de),[ce,fe]=t.useState(!1),be=a();"production"!==process.env.NODE_ENV&&t.useEffect((()=>{if(be)return be.registerEffect()}),[be]);const he=i({props:w,muiFormControl:be,states:["color","disabled","error","hiddenLabel","size","required","filled"]});he.focused=be?be.focused:ce,t.useEffect((()=>{!be&&I&&ce&&(fe(!1),G&&G())}),[be,I,ce,G]);const ye=be&&be.onFilled,ge=be&&be.onEmpty,we=t.useCallback((e=>{p(e)?ye&&ye():ge&&ge()}),[ye,ge]);h((()=>{ue&&we({value:se})}),[se,we,ue]);t.useEffect((()=>{we(pe.current)}),[]);let Ce=D,ve=L;H&&"input"===Ce&&(oe?("production"!==process.env.NODE_ENV&&(U||K)&&console.warn("MUI: You can not use the `minRows` or `maxRows` props when the input `rows` prop is set."),ve=o({type:void 0,minRows:oe,maxRows:oe},ve)):ve=o({type:void 0,maxRows:K,minRows:U},ve),Ce=y);t.useEffect((()=>{be&&be.setAdornedStart(Boolean(re))}),[be,re]);const xe=o({},w,{color:he.color||"primary",disabled:he.disabled,endAdornment:P,error:he.error,focused:he.focused,formControl:be,fullWidth:B,hiddenLabel:he.hiddenLabel,multiline:H,size:he.size,startAdornment:re,type:ie}),Se=(e=>{const{classes:o,color:t,disabled:n,error:r,endAdornment:i,focused:l,formControl:a,fullWidth:s,hiddenLabel:u,multiline:p,readOnly:d,size:c,startAdornment:f,type:b}=e,h={root:["root",`color${v(t)}`,n&&"disabled",r&&"error",s&&"fullWidth",l&&"focused",a&&"formControl",c&&"medium"!==c&&`size${v(c)}`,p&&"multiline",f&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",n&&"disabled","search"===b&&"inputTypeSearch",p&&"inputMultiline","small"===c&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return x(h,m,o)})(xe),je=ne.root||k.Root||R,Ee=te.root||F.root||{},Te=ne.input||k.Input||z;return ve=o({},ve,null!=(d=te.input)?d:F.input),c(t.Fragment,{children:[!M&&O,c(je,o({},Ee,!g(je)&&{ownerState:o({},xe,Ee.ownerState)},{ref:s,onClick:e=>{pe.current&&e.currentTarget===e.target&&pe.current.focus(),q&&q(e)}},ae,{className:r(Se.root,Ee.className,A,Z&&"MuiInputBase-readOnly"),children:[re,f(l.Provider,{value:null,children:f(Te,o({ownerState:xe,"aria-invalid":he.error,"aria-describedby":C,autoComplete:S,autoFocus:T,defaultValue:N,disabled:he.disabled,id:W,onAnimationStart:e=>{we("mui-auto-fill-cancel"===e.animationName?pe.current:{value:"x"})},name:$,placeholder:X,readOnly:Z,required:he.required,rows:oe,value:se,onKeyDown:J,onKeyUp:Q,type:ie},ve,!g(Te)&&{as:Ce,ownerState:o({},xe,ve.ownerState)},{ref:me,className:r(Se.input,ve.className,Z&&"MuiInputBase-readOnly"),onBlur:e=>{G&&G(e),L.onBlur&&L.onBlur(e),be&&be.onBlur?be.onBlur(e):fe(!1)},onChange:(e,...o)=>{if(!ue){const o=e.target||pe.current;if(null==o)throw new Error("production"!==process.env.NODE_ENV?"MUI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://mui.com/r/input-component-ref-interface for more info.":j(1));we({value:o.value})}L.onChange&&L.onChange(e,...o),_&&_(e,...o)},onFocus:e=>{he.disabled?e.stopPropagation():(Y&&Y(e),L.onFocus&&L.onFocus(e),be&&be.onFocus?be.onFocus(e):fe(!0))}}))}),P,ee?ee(o({},he,{startAdornment:re})):null]}))]})}));"production"!==process.env.NODE_ENV&&(k.propTypes={"aria-describedby":n.string,autoComplete:n.string,autoFocus:n.bool,classes:n.object,className:n.string,color:n.oneOfType([n.oneOf(["primary","secondary","error","info","success","warning"]),n.string]),components:n.shape({Input:n.elementType,Root:n.elementType}),componentsProps:n.shape({input:n.object,root:n.object}),defaultValue:n.any,disabled:n.bool,disableInjectingGlobalStyles:n.bool,endAdornment:n.node,error:n.bool,fullWidth:n.bool,id:n.string,inputComponent:w,inputProps:n.object,inputRef:C,margin:n.oneOf(["dense","none"]),maxRows:n.oneOfType([n.number,n.string]),minRows:n.oneOfType([n.number,n.string]),multiline:n.bool,name:n.string,onBlur:n.func,onChange:n.func,onClick:n.func,onFocus:n.func,onInvalid:n.func,onKeyDown:n.func,onKeyUp:n.func,placeholder:n.string,readOnly:n.bool,renderSuffix:n.func,required:n.bool,rows:n.oneOfType([n.number,n.string]),size:n.oneOfType([n.oneOf(["medium","small"]),n.string]),slotProps:n.shape({input:n.object,root:n.object}),slots:n.shape({input:n.elementType,root:n.elementType}),startAdornment:n.node,sx:n.oneOfType([n.arrayOf(n.oneOfType([n.func,n.object,n.bool])),n.func,n.object]),type:n.string,value:n.any});var F=k;export{z as InputBaseComponent,R as InputBaseRoot,F as default,A as inputOverridesResolver,T as rootOverridesResolver};
