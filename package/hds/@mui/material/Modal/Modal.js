"use client";
import o from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import e from"../../../@babel/runtime/helpers/esm/extends.js";import*as s from"react";import r from"../../../prop-types/index.js";import{clsx as t}from"../../../clsx/dist/clsx.js";import n from"../styles/styled.js";import l from"../styles/useThemeProps.js";import{getModalUtilityClass as a}from"./modalClasses.js";import{jsx as i,jsxs as c}from"react/jsx-runtime";import p from"../Backdrop/Backdrop.js";import{useModal as d}from"../../base/unstable_useModal/useModal.js";import{useSlotProps as m}from"../../base/utils/useSlotProps.js";import{Portal as u}from"../../base/Portal/Portal.js";import{FocusTrap as b}from"../../base/FocusTrap/FocusTrap.js";import f from"../../utils/elementAcceptingRef/elementAcceptingRef.js";import k from"../../utils/HTMLElementType/HTMLElementType.js";import T from"../../utils/composeClasses/composeClasses.js";const P=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],y=n("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.root,!s.open&&s.exited&&e.hidden]}})((({theme:o,ownerState:s})=>e({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0},!s.open&&s.exited&&{visibility:"hidden"}))),h=n(p,{name:"MuiModal",slot:"Backdrop",overridesResolver:(o,e)=>e.backdrop})({zIndex:-1}),x=s.forwardRef((function(r,n){var p,f,k,x,j,E;const v=l({name:"MuiModal",props:r}),{BackdropComponent:B=h,BackdropProps:F,className:R,closeAfterTransition:M=!1,children:C,container:S,component:A,components:w={},componentsProps:N={},disableAutoFocus:g=!1,disableEnforceFocus:O=!1,disableEscapeKeyDown:L=!1,disablePortal:D=!1,disableRestoreFocus:I=!1,disableScrollLock:K=!1,hideBackdrop:z=!1,keepMounted:q=!1,onBackdropClick:H,open:_,slotProps:V,slots:W}=v,G=o(v,P),J=e({},v,{closeAfterTransition:M,disableAutoFocus:g,disableEnforceFocus:O,disableEscapeKeyDown:L,disablePortal:D,disableRestoreFocus:I,disableScrollLock:K,hideBackdrop:z,keepMounted:q}),{getRootProps:Q,getBackdropProps:U,getTransitionProps:X,portalRef:Y,isTopModal:Z,exited:$,hasTransition:oo}=d(e({},J,{rootRef:n})),eo=e({},J,{exited:$}),so=(o=>{const{open:e,exited:s,classes:r}=o;return T({root:["root",!e&&s&&"hidden"],backdrop:["backdrop"]},a,r)})(eo),ro={};if(void 0===C.props.tabIndex&&(ro.tabIndex="-1"),oo){const{onEnter:o,onExited:e}=X();ro.onEnter=o,ro.onExited=e}const to=null!=(p=null!=(f=null==W?void 0:W.root)?f:w.Root)?p:y,no=null!=(k=null!=(x=null==W?void 0:W.backdrop)?x:w.Backdrop)?k:B,lo=null!=(j=null==V?void 0:V.root)?j:N.root,ao=null!=(E=null==V?void 0:V.backdrop)?E:N.backdrop,io=m({elementType:to,externalSlotProps:lo,externalForwardedProps:G,getSlotProps:Q,additionalProps:{ref:n,as:A},ownerState:eo,className:t(R,null==lo?void 0:lo.className,null==so?void 0:so.root,!eo.open&&eo.exited&&(null==so?void 0:so.hidden))}),co=m({elementType:no,externalSlotProps:ao,additionalProps:F,getSlotProps:o=>U(e({},o,{onClick:e=>{H&&H(e),null!=o&&o.onClick&&o.onClick(e)}})),className:t(null==ao?void 0:ao.className,null==F?void 0:F.className,null==so?void 0:so.backdrop),ownerState:eo});return q||_||oo&&!$?i(u,{ref:Y,container:S,disablePortal:D,children:c(to,e({},io,{children:[!z&&B?i(no,e({},co)):null,i(b,{disableEnforceFocus:O,disableAutoFocus:g,disableRestoreFocus:I,isEnabled:Z,open:_,children:s.cloneElement(C,ro)})]}))}):null}));"production"!==process.env.NODE_ENV&&(x.propTypes={BackdropComponent:r.elementType,BackdropProps:r.object,children:f.isRequired,classes:r.object,className:r.string,closeAfterTransition:r.bool,component:r.elementType,components:r.shape({Backdrop:r.elementType,Root:r.elementType}),componentsProps:r.shape({backdrop:r.oneOfType([r.func,r.object]),root:r.oneOfType([r.func,r.object])}),container:r.oneOfType([k,r.func]),disableAutoFocus:r.bool,disableEnforceFocus:r.bool,disableEscapeKeyDown:r.bool,disablePortal:r.bool,disableRestoreFocus:r.bool,disableScrollLock:r.bool,hideBackdrop:r.bool,keepMounted:r.bool,onBackdropClick:r.func,onClose:r.func,onTransitionEnter:r.func,onTransitionExited:r.func,open:r.bool.isRequired,slotProps:r.shape({backdrop:r.oneOfType([r.func,r.object]),root:r.oneOfType([r.func,r.object])}),slots:r.shape({backdrop:r.elementType,root:r.elementType}),sx:r.oneOfType([r.arrayOf(r.oneOfType([r.func,r.object,r.bool])),r.func,r.object])});var j=x;export{j as default};
