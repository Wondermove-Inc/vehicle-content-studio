"use client";
import o from"../../../@babel/runtime/helpers/esm/extends.js";import e from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import*as r from"react";import{r as s}from"../../../react-is/index.js";import t from"../../../prop-types/index.js";import{clsx as n}from"../../../clsx/dist/clsx.js";import{useRtl as a}from"../../system/esm/RtlProvider/index.js";import i from"../styles/styled.js";import p from"../styles/useThemeProps.js";import{getMenuUtilityClass as l}from"./menuClasses.js";import{jsx as u}from"react/jsx-runtime";import c,{PopoverPaper as m}from"../Popover/Popover.js";import d from"../styles/rootShouldForwardProp.js";import f from"../MenuList/MenuList.js";import{useSlotProps as P}from"../../base/utils/useSlotProps.js";import b from"../../utils/HTMLElementType/HTMLElementType.js";import j from"../../utils/composeClasses/composeClasses.js";const v=["onEntering"],h=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],y={vertical:"top",horizontal:"right"},T={vertical:"top",horizontal:"left"},M=i(c,{shouldForwardProp:o=>d(o)||"classes"===o,name:"MuiMenu",slot:"Root",overridesResolver:(o,e)=>e.root})({}),F=i(m,{name:"MuiMenu",slot:"Paper",overridesResolver:(o,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),g=i(f,{name:"MuiMenu",slot:"List",overridesResolver:(o,e)=>e.list})({outline:0}),x=r.forwardRef((function(t,i){var c,m;const d=p({props:t,name:"MuiMenu"}),{autoFocus:f=!0,children:b,className:x,disableAutoFocusItem:O=!1,MenuListProps:C={},onClose:E,open:N,PaperProps:D={},PopoverClasses:L,transitionDuration:S="auto",TransitionProps:{onEntering:w}={},variant:R="selectedMenu",slots:I={},slotProps:A={}}=d,z=e(d.TransitionProps,v),H=e(d,h),V=a(),k=o({},d,{autoFocus:f,disableAutoFocusItem:O,MenuListProps:C,onEntering:w,PaperProps:D,transitionDuration:S,TransitionProps:z,variant:R}),K=(o=>{const{classes:e}=o;return j({root:["root"],paper:["paper"],list:["list"]},l,e)})(k),W=f&&!O&&N,_=r.useRef(null);let q=-1;r.Children.map(b,((o,e)=>{r.isValidElement(o)&&("production"!==process.env.NODE_ENV&&s.isFragment(o)&&console.error(["MUI: The Menu component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),o.props.disabled||("selectedMenu"===R&&o.props.selected||-1===q)&&(q=e))}));const U=null!=(c=I.paper)?c:F,B=null!=(m=A.paper)?m:D,G=P({elementType:I.root,externalSlotProps:A.root,ownerState:k,className:[K.root,x]}),J=P({elementType:U,externalSlotProps:B,ownerState:k,className:K.paper});return u(M,o({onClose:E,anchorOrigin:{vertical:"bottom",horizontal:V?"right":"left"},transformOrigin:V?y:T,slots:{paper:U,root:I.root},slotProps:{root:G,paper:J},open:N,ref:i,transitionDuration:S,TransitionProps:o({onEntering:(o,e)=>{_.current&&_.current.adjustStyleForScrollbar(o,{direction:V?"rtl":"ltr"}),w&&w(o,e)}},z),ownerState:k},H,{classes:L,children:u(g,o({onKeyDown:o=>{"Tab"===o.key&&(o.preventDefault(),E&&E(o,"tabKeyDown"))},actions:_,autoFocus:f&&(-1===q||O),autoFocusItem:W,variant:R},C,{className:n(K.list,C.className),children:b}))}))}));"production"!==process.env.NODE_ENV&&(x.propTypes={anchorEl:t.oneOfType([b,t.func]),autoFocus:t.bool,children:t.node,classes:t.object,className:t.string,disableAutoFocusItem:t.bool,MenuListProps:t.object,onClose:t.func,open:t.bool.isRequired,PaperProps:t.object,PopoverClasses:t.object,slotProps:t.shape({paper:t.oneOfType([t.func,t.object]),root:t.oneOfType([t.func,t.object])}),slots:t.shape({paper:t.elementType,root:t.elementType}),sx:t.oneOfType([t.arrayOf(t.oneOfType([t.func,t.object,t.bool])),t.func,t.object]),transitionDuration:t.oneOfType([t.oneOf(["auto"]),t.number,t.shape({appear:t.number,enter:t.number,exit:t.number})]),TransitionProps:t.object,variant:t.oneOf(["menu","selectedMenu"])});var O=x;export{F as MenuPaper,O as default};
