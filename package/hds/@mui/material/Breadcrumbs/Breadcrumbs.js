"use client";
import e from"../../../@babel/runtime/helpers/esm/extends.js";import o from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import*as s from"react";import{r}from"../../../react-is/index.js";import t from"../../../prop-types/index.js";import{clsx as a}from"../../../clsx/dist/clsx.js";import l from"../styles/styled.js";import n from"../styles/useThemeProps.js";import p from"./BreadcrumbCollapsed.js";import i,{getBreadcrumbsUtilityClass as m}from"./breadcrumbsClasses.js";import{jsx as c}from"react/jsx-runtime";import d from"../Typography/Typography.js";import{useSlotProps as f}from"../../base/utils/useSlotProps.js";import u from"../../utils/integerPropType/integerPropType.js";import h from"../../utils/composeClasses/composeClasses.js";const x=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],y=l(d,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,o)=>[{[`& .${i.li}`]:o.li},o.root]})({}),b=l("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,o)=>o.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),j=l("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,o)=>o.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function C(e,o,s,r){return e.reduce(((t,a,l)=>(l<e.length-1?t=t.concat(a,c(j,{"aria-hidden":!0,className:o,ownerState:r,children:s},`separator-${l}`)):t.push(a),t)),[])}const g=s.forwardRef((function(t,l){const i=n({props:t,name:"MuiBreadcrumbs"}),{children:d,className:u,component:j="nav",slots:g={},slotProps:T={},expandText:v="Show path",itemsAfterCollapse:I=1,itemsBeforeCollapse:N=1,maxItems:B=8,separator:S="/"}=i,P=o(i,x),[O,w]=s.useState(!1),E=e({},i,{component:j,expanded:O,expandText:v,itemsAfterCollapse:I,itemsBeforeCollapse:N,maxItems:B,separator:S}),R=(e=>{const{classes:o}=e;return h({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},m,o)})(E),A=f({elementType:g.CollapsedIcon,externalSlotProps:T.collapsedIcon,ownerState:E}),M=s.useRef(null),$=s.Children.toArray(d).filter((e=>("production"!==process.env.NODE_ENV&&r.isFragment(e)&&console.error(["MUI: The Breadcrumbs component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),s.isValidElement(e)))).map(((e,o)=>c("li",{className:R.li,children:e},`child-${o}`)));return c(y,e({ref:l,component:j,color:"text.secondary",className:a(R.root,u),ownerState:E},P,{children:c(b,{className:R.ol,ref:M,ownerState:E,children:C(O||B&&$.length<=B?$:(e=>N+I>=e.length?("production"!==process.env.NODE_ENV&&console.error(["MUI: You have provided an invalid combination of props to the Breadcrumbs.",`itemsAfterCollapse={${I}} + itemsBeforeCollapse={${N}} >= maxItems={${B}}`].join("\n")),e):[...e.slice(0,N),c(p,{"aria-label":v,slots:{CollapsedIcon:g.CollapsedIcon},slotProps:{collapsedIcon:A},onClick:()=>{w(!0);const e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-I,e.length)])($),R.separator,S,E)})}))}));"production"!==process.env.NODE_ENV&&(g.propTypes={children:t.node,classes:t.object,className:t.string,component:t.elementType,expandText:t.string,itemsAfterCollapse:u,itemsBeforeCollapse:u,maxItems:u,separator:t.node,slotProps:t.shape({collapsedIcon:t.oneOfType([t.func,t.object])}),slots:t.shape({CollapsedIcon:t.elementType}),sx:t.oneOfType([t.arrayOf(t.oneOfType([t.func,t.object,t.bool])),t.func,t.object])});var T=g;export{T as default};
