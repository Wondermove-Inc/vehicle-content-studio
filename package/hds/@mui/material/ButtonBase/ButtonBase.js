"use client";
import e from"../../../@babel/runtime/helpers/esm/extends.js";import o from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import*as n from"react";import t from"../../../prop-types/index.js";import{clsx as r}from"../../../clsx/dist/clsx.js";import s from"../styles/styled.js";import u from"../styles/useThemeProps.js";import c from"./TouchRipple.js";import i,{getButtonBaseUtilityClass as p}from"./buttonBaseClasses.js";import{jsxs as l,jsx as a}from"react/jsx-runtime";import f from"../../utils/useForkRef/useForkRef.js";import d from"../../utils/useIsFocusVisible/useIsFocusVisible.js";import b from"../../utils/useEventCallback/useEventCallback.js";import m from"../../utils/refType/refType.js";import h from"../../utils/elementTypeAcceptingRef/elementTypeAcceptingRef.js";import R from"../../utils/composeClasses/composeClasses.js";const y=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],T=s("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${i.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),v=n.forwardRef((function(t,s){const i=u({props:t,name:"MuiButtonBase"}),{action:m,centerRipple:h=!1,children:v,className:g,component:M="button",disabled:j=!1,disableRipple:C=!1,disableTouchRipple:x=!1,focusRipple:k=!1,LinkComponent:D="a",onBlur:E,onClick:V,onContextMenu:F,onDragLeave:B,onFocus:L,onFocusVisible:N,onKeyDown:w,onKeyUp:I,onMouseDown:S,onMouseLeave:U,onMouseUp:K,onTouchEnd:O,onTouchMove:P,onTouchStart:A,tabIndex:q=0,TouchRippleProps:z,touchRippleRef:W,type:H}=i,$=o(i,y),_=n.useRef(null),G=n.useRef(null),J=f(G,W),{isFocusVisibleRef:Q,onFocus:X,onBlur:Y,ref:Z}=d(),[ee,oe]=n.useState(!1);j&&ee&&oe(!1),n.useImperativeHandle(m,(()=>({focusVisible:()=>{oe(!0),_.current.focus()}})),[]);const[ne,te]=n.useState(!1);n.useEffect((()=>{te(!0)}),[]);const re=ne&&!C&&!j;function se(e,o,n=x){return b((t=>{o&&o(t);return!n&&G.current&&G.current[e](t),!0}))}n.useEffect((()=>{ee&&k&&!C&&ne&&G.current.pulsate()}),[C,k,ee,ne]);const ue=se("start",S),ce=se("stop",F),ie=se("stop",B),pe=se("stop",K),le=se("stop",(e=>{ee&&e.preventDefault(),U&&U(e)})),ae=se("start",A),fe=se("stop",O),de=se("stop",P),be=se("stop",(e=>{Y(e),!1===Q.current&&oe(!1),E&&E(e)}),!1),me=b((e=>{_.current||(_.current=e.currentTarget),X(e),!0===Q.current&&(oe(!0),N&&N(e)),L&&L(e)})),he=()=>{const e=_.current;return M&&"button"!==M&&!("A"===e.tagName&&e.href)},Re=n.useRef(!1),ye=b((e=>{k&&!Re.current&&ee&&G.current&&" "===e.key&&(Re.current=!0,G.current.stop(e,(()=>{G.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!j&&(e.preventDefault(),V&&V(e))})),Te=b((e=>{k&&" "===e.key&&G.current&&ee&&!e.defaultPrevented&&(Re.current=!1,G.current.stop(e,(()=>{G.current.pulsate(e)}))),I&&I(e),V&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&V(e)}));let ve=M;"button"===ve&&($.href||$.to)&&(ve=D);const ge={};"button"===ve?(ge.type=void 0===H?"button":H,ge.disabled=j):($.href||$.to||(ge.role="button"),j&&(ge["aria-disabled"]=j));const Me=f(s,Z,_);"production"!==process.env.NODE_ENV&&n.useEffect((()=>{re&&!G.current&&console.error(["MUI: The `component` prop provided to ButtonBase is invalid.","Please make sure the children prop is rendered in this custom component."].join("\n"))}),[re]);const je=e({},i,{centerRipple:h,component:M,disabled:j,disableRipple:C,disableTouchRipple:x,focusRipple:k,tabIndex:q,focusVisible:ee}),Ce=(e=>{const{disabled:o,focusVisible:n,focusVisibleClassName:t,classes:r}=e,s=R({root:["root",o&&"disabled",n&&"focusVisible"]},p,r);return n&&t&&(s.root+=` ${t}`),s})(je);return l(T,e({as:ve,className:r(Ce.root,g),ownerState:je,onBlur:be,onClick:V,onContextMenu:ce,onFocus:me,onKeyDown:ye,onKeyUp:Te,onMouseDown:ue,onMouseLeave:le,onMouseUp:pe,onDragLeave:ie,onTouchEnd:fe,onTouchMove:de,onTouchStart:ae,ref:Me,tabIndex:j?-1:q,type:H},ge,$,{children:[v,re?a(c,e({ref:J,center:h},z)):null]}))}));"production"!==process.env.NODE_ENV&&(v.propTypes={action:m,centerRipple:t.bool,children:t.node,classes:t.object,className:t.string,component:h,disabled:t.bool,disableRipple:t.bool,disableTouchRipple:t.bool,focusRipple:t.bool,focusVisibleClassName:t.string,href:t.any,LinkComponent:t.elementType,onBlur:t.func,onClick:t.func,onContextMenu:t.func,onDragLeave:t.func,onFocus:t.func,onFocusVisible:t.func,onKeyDown:t.func,onKeyUp:t.func,onMouseDown:t.func,onMouseLeave:t.func,onMouseUp:t.func,onTouchEnd:t.func,onTouchMove:t.func,onTouchStart:t.func,sx:t.oneOfType([t.arrayOf(t.oneOfType([t.func,t.object,t.bool])),t.func,t.object]),tabIndex:t.number,TouchRippleProps:t.object,touchRippleRef:t.oneOfType([t.func,t.shape({current:t.shape({pulsate:t.func.isRequired,start:t.func.isRequired,stop:t.func.isRequired})})]),type:t.oneOfType([t.oneOf(["button","reset","submit"]),t.string])});var g=v;export{T as ButtonBaseRoot,g as default};
