"use client";
import e from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import o from"../../../@babel/runtime/helpers/esm/extends.js";import*as t from"react";import r from"../../../prop-types/index.js";import{clsx as n}from"../../../clsx/dist/clsx.js";import{alpha as s}from"../../system/colorManipulator.js";import{useRtl as p}from"../../system/esm/RtlProvider/index.js";import i from"../styles/styled.js";import l from"../styles/useTheme.js";import a from"../styles/useThemeProps.js";import c,{getTooltipUtilityClass as m}from"./tooltipClasses.js";import{jsxs as u,jsx as d}from"react/jsx-runtime";import h from"../Popper/Popper.js";import f from"../../utils/capitalize/capitalize.js";import b,{Timeout as g}from"../../utils/useTimeout/useTimeout.js";import v from"../../utils/useControlled/useControlled.js";import y from"../../utils/useId/useId.js";import T from"../../utils/useEventCallback/useEventCallback.js";import w from"../../utils/useIsFocusVisible/useIsFocusVisible.js";import j from"../../utils/useForkRef/useForkRef.js";import x from"../Grow/Grow.js";import{appendOwnerState as R}from"../../base/utils/appendOwnerState.js";import P from"../../utils/elementAcceptingRef/elementAcceptingRef.js";import C from"../../utils/composeClasses/composeClasses.js";const E=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const O=i(h,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.popper,!t.disableInteractive&&o.popperInteractive,t.arrow&&o.popperArrow,!t.open&&o.popperClose]}})((({theme:e,ownerState:t,open:r})=>o({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${c.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${c.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${c.arrow}`]:o({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${c.arrow}`]:o({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})}))),M=i("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.tooltip,t.touch&&o.touch,t.arrow&&o.tooltipArrow,o[`tooltipPlacement${f(t.placement.split("-")[0])}`]]}})((({theme:e,ownerState:t})=>{return o({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:s(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:(r=16/14,Math.round(1e5*r)/1e5)+"em",fontWeight:e.typography.fontWeightRegular},{[`.${c.popper}[data-popper-placement*="left"] &`]:o({transformOrigin:"right center"},t.isRtl?o({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):o({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${c.popper}[data-popper-placement*="right"] &`]:o({transformOrigin:"left center"},t.isRtl?o({marginRight:"14px"},t.touch&&{marginRight:"24px"}):o({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${c.popper}[data-popper-placement*="top"] &`]:o({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${c.popper}[data-popper-placement*="bottom"] &`]:o({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})});var r})),N=i("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,o)=>o.arrow})((({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:s(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let L=!1;const D=new g;let S={x:0,y:0};function I(e,o){return(t,...r)=>{o&&o(t,...r),e(t,...r)}}const k=t.forwardRef((function(r,s){var i,c,g,P,k,F,A,W,$,B,V,z,U,H,_,Y,G,q,X;const J=a({props:r,name:"MuiTooltip"}),{arrow:K=!1,children:Q,components:Z={},componentsProps:ee={},describeChild:oe=!1,disableFocusListener:te=!1,disableHoverListener:re=!1,disableInteractive:ne=!1,disableTouchListener:se=!1,enterDelay:pe=100,enterNextDelay:ie=0,enterTouchDelay:le=700,followCursor:ae=!1,id:ce,leaveDelay:me=0,leaveTouchDelay:ue=1500,onClose:de,onOpen:he,open:fe,placement:be="bottom",PopperComponent:ge,PopperProps:ve={},slotProps:ye={},slots:Te={},title:we,TransitionComponent:je=x,TransitionProps:xe}=J,Re=e(J,E),Pe=t.isValidElement(Q)?Q:d("span",{children:Q}),Ce=l(),Ee=p(),[Oe,Me]=t.useState(),[Ne,Le]=t.useState(null),De=t.useRef(!1),Se=ne||ae,Ie=b(),ke=b(),Fe=b(),Ae=b(),[We,$e]=v({controlled:fe,default:!1,name:"Tooltip",state:"open"});let Be=We;if("production"!==process.env.NODE_ENV){const{current:e}=t.useRef(void 0!==fe);t.useEffect((()=>{Oe&&Oe.disabled&&!e&&""!==we&&"button"===Oe.tagName.toLowerCase()&&console.error(["MUI: You are providing a disabled `button` child to the Tooltip component.","A disabled element does not fire events.","Tooltip needs to listen to the child element's events to display the title.","","Add a simple wrapper element, such as a `span`."].join("\n"))}),[we,Oe,e])}const Ve=y(ce),ze=t.useRef(),Ue=T((()=>{void 0!==ze.current&&(document.body.style.WebkitUserSelect=ze.current,ze.current=void 0),Ae.clear()}));t.useEffect((()=>Ue),[Ue]);const He=e=>{D.clear(),L=!0,$e(!0),he&&!Be&&he(e)},_e=T((e=>{D.start(800+me,(()=>{L=!1})),$e(!1),de&&Be&&de(e),Ie.start(Ce.transitions.duration.shortest,(()=>{De.current=!1}))})),Ye=e=>{De.current&&"touchstart"!==e.type||(Oe&&Oe.removeAttribute("title"),ke.clear(),Fe.clear(),pe||L&&ie?ke.start(L?ie:pe,(()=>{He(e)})):He(e))},Ge=e=>{ke.clear(),Fe.start(me,(()=>{_e(e)}))},{isFocusVisibleRef:qe,onBlur:Xe,onFocus:Je,ref:Ke}=w(),[,Qe]=t.useState(!1),Ze=e=>{Xe(e),!1===qe.current&&(Qe(!1),Ge(e))},eo=e=>{Oe||Me(e.currentTarget),Je(e),!0===qe.current&&(Qe(!0),Ye(e))},oo=e=>{De.current=!0;const o=Pe.props;o.onTouchStart&&o.onTouchStart(e)},to=e=>{oo(e),Fe.clear(),Ie.clear(),Ue(),ze.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ae.start(le,(()=>{document.body.style.WebkitUserSelect=ze.current,Ye(e)}))},ro=e=>{Pe.props.onTouchEnd&&Pe.props.onTouchEnd(e),Ue(),Fe.start(ue,(()=>{_e(e)}))};t.useEffect((()=>{if(Be)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||_e(e)}}),[_e,Be]);const no=j(Pe.ref,Ke,Me,s);we||0===we||(Be=!1);const so=t.useRef(),po={},io="string"==typeof we;oe?(po.title=Be||!io||re?null:we,po["aria-describedby"]=Be?Ve:null):(po["aria-label"]=io?we:null,po["aria-labelledby"]=Be&&!io?Ve:null);const lo=o({},po,Re,Pe.props,{className:n(Re.className,Pe.props.className),onTouchStart:oo,ref:no},ae?{onMouseMove:e=>{const o=Pe.props;o.onMouseMove&&o.onMouseMove(e),S={x:e.clientX,y:e.clientY},so.current&&so.current.update()}}:{});"production"!==process.env.NODE_ENV&&(lo["data-mui-internal-clone-element"]=!0,t.useEffect((()=>{Oe&&!Oe.getAttribute("data-mui-internal-clone-element")&&console.error(["MUI: The `children` component of the Tooltip is not forwarding its props correctly.","Please make sure that props are spread on the same element that the ref is applied to."].join("\n"))}),[Oe]));const ao={};se||(lo.onTouchStart=to,lo.onTouchEnd=ro),re||(lo.onMouseOver=I(Ye,lo.onMouseOver),lo.onMouseLeave=I(Ge,lo.onMouseLeave),Se||(ao.onMouseOver=Ye,ao.onMouseLeave=Ge)),te||(lo.onFocus=I(eo,lo.onFocus),lo.onBlur=I(Ze,lo.onBlur),Se||(ao.onFocus=eo,ao.onBlur=Ze)),"production"!==process.env.NODE_ENV&&Pe.props.title&&console.error(["MUI: You have provided a `title` prop to the child of <Tooltip />.",`Remove this title prop \`${Pe.props.title}\` or the Tooltip component.`].join("\n"));const co=t.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(Ne),options:{element:Ne,padding:4}}];return null!=(e=ve.popperOptions)&&e.modifiers&&(t=t.concat(ve.popperOptions.modifiers)),o({},ve.popperOptions,{modifiers:t})}),[Ne,ve]),mo=o({},J,{isRtl:Ee,arrow:K,disableInteractive:Se,placement:be,PopperComponentProp:ge,touch:De.current}),uo=(e=>{const{classes:o,disableInteractive:t,arrow:r,touch:n,placement:s}=e,p={popper:["popper",!t&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",n&&"touch",`tooltipPlacement${f(s.split("-")[0])}`],arrow:["arrow"]};return C(p,m,o)})(mo),ho=null!=(i=null!=(c=Te.popper)?c:Z.Popper)?i:O,fo=null!=(g=null!=(P=null!=(k=Te.transition)?k:Z.Transition)?P:je)?g:x,bo=null!=(F=null!=(A=Te.tooltip)?A:Z.Tooltip)?F:M,go=null!=(W=null!=($=Te.arrow)?$:Z.Arrow)?W:N,vo=R(ho,o({},ve,null!=(B=ye.popper)?B:ee.popper,{className:n(uo.popper,null==ve?void 0:ve.className,null==(V=null!=(z=ye.popper)?z:ee.popper)?void 0:V.className)}),mo),yo=R(fo,o({},xe,null!=(U=ye.transition)?U:ee.transition),mo),To=R(bo,o({},null!=(H=ye.tooltip)?H:ee.tooltip,{className:n(uo.tooltip,null==(_=null!=(Y=ye.tooltip)?Y:ee.tooltip)?void 0:_.className)}),mo),wo=R(go,o({},null!=(G=ye.arrow)?G:ee.arrow,{className:n(uo.arrow,null==(q=null!=(X=ye.arrow)?X:ee.arrow)?void 0:q.className)}),mo);return u(t.Fragment,{children:[t.cloneElement(Pe,lo),d(ho,o({as:null!=ge?ge:h,placement:be,anchorEl:ae?{getBoundingClientRect:()=>({top:S.y,left:S.x,right:S.x,bottom:S.y,width:0,height:0})}:Oe,popperRef:so,open:!!Oe&&Be,id:Ve,transition:!0},ao,vo,{popperOptions:co,children:({TransitionProps:e})=>d(fo,o({timeout:Ce.transitions.duration.shorter},e,yo,{children:u(bo,o({},To,{children:[we,K?d(go,o({},wo,{ref:Le})):null]}))}))}))]})}));"production"!==process.env.NODE_ENV&&(k.propTypes={arrow:r.bool,children:P.isRequired,classes:r.object,className:r.string,components:r.shape({Arrow:r.elementType,Popper:r.elementType,Tooltip:r.elementType,Transition:r.elementType}),componentsProps:r.shape({arrow:r.object,popper:r.object,tooltip:r.object,transition:r.object}),describeChild:r.bool,disableFocusListener:r.bool,disableHoverListener:r.bool,disableInteractive:r.bool,disableTouchListener:r.bool,enterDelay:r.number,enterNextDelay:r.number,enterTouchDelay:r.number,followCursor:r.bool,id:r.string,leaveDelay:r.number,leaveTouchDelay:r.number,onClose:r.func,onOpen:r.func,open:r.bool,placement:r.oneOf(["bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"]),PopperComponent:r.elementType,PopperProps:r.object,slotProps:r.shape({arrow:r.object,popper:r.object,tooltip:r.object,transition:r.object}),slots:r.shape({arrow:r.elementType,popper:r.elementType,tooltip:r.elementType,transition:r.elementType}),sx:r.oneOfType([r.arrayOf(r.oneOfType([r.func,r.object,r.bool])),r.func,r.object]),title:r.node,TransitionComponent:r.elementType,TransitionProps:r.object});var F=k;export{F as default};
