"use client";
import e from"../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import o from"../../../@babel/runtime/helpers/esm/extends.js";import*as t from"react";import n from"../../../prop-types/index.js";import{clsx as a}from"../../../clsx/dist/clsx.js";import{alpha as p}from"../../system/colorManipulator.js";import r from"../Input/inputClasses.js";import l from"../InputBase/inputBaseClasses.js";import i from"../OutlinedInput/outlinedInputClasses.js";import s from"../FilledInput/filledInputClasses.js";import d from"../internal/svg-icons/Close.js";import u from"../internal/svg-icons/ArrowDropDown.js";import{createUseThemeProps as c}from"../zero-styled/index.js";import m,{getAutocompleteUtilityClass as g}from"./autocompleteClasses.js";import{jsx as b,jsxs as h}from"react/jsx-runtime";import f from"../styles/styled.js";import v from"../../utils/capitalize/capitalize.js";import x from"../IconButton/IconButton.js";import y from"../Popper/Popper.js";import I from"../Paper/Paper.js";import O from"../ListSubheader/ListSubheader.js";import{useAutocomplete as $}from"../../base/useAutocomplete/useAutocomplete.js";export{createFilterOptions}from"../../base/useAutocomplete/useAutocomplete.js";import C from"../../utils/useForkRef/useForkRef.js";import P from"../Chip/Chip.js";import T from"../../utils/chainPropTypes/chainPropTypes.js";import j from"../../utils/integerPropType/integerPropType.js";import S from"../../utils/composeClasses/composeClasses.js";var L,w;const A=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],R=["ref"],N=["key"],z=["key"],k=c(),F=f("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e,{fullWidth:n,hasClearIcon:a,hasPopupIcon:p,inputFocused:r,size:l}=t;return[{[`& .${m.tag}`]:o.tag},{[`& .${m.tag}`]:o[`tagSize${v(l)}`]},{[`& .${m.inputRoot}`]:o.inputRoot},{[`& .${m.input}`]:o.input},{[`& .${m.input}`]:r&&o.inputFocused},o.root,n&&o.fullWidth,p&&o.hasPopupIcon,a&&o.hasClearIcon]}})({[`&.${m.focused} .${m.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${m.clearIndicator}`]:{visibility:"visible"}},[`& .${m.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${m.inputRoot}`]:{[`.${m.hasPopupIcon}&, .${m.hasClearIcon}&`]:{paddingRight:30},[`.${m.hasPopupIcon}.${m.hasClearIcon}&`]:{paddingRight:56},[`& .${m.input}`]:{width:0,minWidth:30}},[`& .${r.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${r.root}.${l.sizeSmall}`]:{[`& .${r.input}`]:{padding:"2px 4px 3px 0"}},[`& .${i.root}`]:{padding:9,[`.${m.hasPopupIcon}&, .${m.hasClearIcon}&`]:{paddingRight:39},[`.${m.hasPopupIcon}.${m.hasClearIcon}&`]:{paddingRight:65},[`& .${m.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${m.endAdornment}`]:{right:9}},[`& .${i.root}.${l.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${m.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${s.root}`]:{paddingTop:19,paddingLeft:8,[`.${m.hasPopupIcon}&, .${m.hasClearIcon}&`]:{paddingRight:39},[`.${m.hasPopupIcon}.${m.hasClearIcon}&`]:{paddingRight:65},[`& .${s.input}`]:{padding:"7px 4px"},[`& .${m.endAdornment}`]:{right:9}},[`& .${s.root}.${l.sizeSmall}`]:{paddingBottom:1,[`& .${s.input}`]:{padding:"2.5px 4px"}},[`& .${l.hiddenLabel}`]:{paddingTop:8},[`& .${s.root}.${l.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${m.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${s.root}.${l.hiddenLabel}.${l.sizeSmall}`]:{[`& .${m.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${m.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${m.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${m.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${m.inputRoot}`]:{flexWrap:"wrap"}}}]}),W=f("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,o)=>o.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),M=f(x,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,o)=>o.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),B=f(x,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>o({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),E=f(y,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[{[`& .${m.option}`]:o.option},o.popper,t.disablePortal&&o.popperDisablePortal]}})((({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),V=f(I,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,o)=>o.paper})((({theme:e})=>o({},e.typography.body1,{overflow:"auto"}))),H=f("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,o)=>o.loading})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),D=f("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,o)=>o.noOptions})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),U=f("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,o)=>o.listbox})((({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${m.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${m.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${m.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:p(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${m.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:p(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${m.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:p(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),G=f(O,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,o)=>o.groupLabel})((({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),K=f("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,o)=>o.groupUl})({padding:0,[`& .${m.option}`]:{paddingLeft:24}}),q=t.forwardRef((function(n,p){var r,l,i,s;const c=k({props:n,name:"MuiAutocomplete"}),{autoComplete:m=!1,autoHighlight:f=!1,autoSelect:x=!1,blurOnSelect:O=!1,ChipProps:T,className:j,clearIcon:q=L||(L=b(d,{fontSize:"small"})),clearOnBlur:_=!c.freeSolo,clearOnEscape:J=!1,clearText:Q="Clear",closeText:X="Close",componentsProps:Y={},defaultValue:Z=(c.multiple?[]:null),disableClearable:ee=!1,disableCloseOnSelect:oe=!1,disabled:te=!1,disabledItemsFocusable:ne=!1,disableListWrap:ae=!1,disablePortal:pe=!1,filterSelectedOptions:re=!1,forcePopupIcon:le="auto",freeSolo:ie=!1,fullWidth:se=!1,getLimitTagsText:de=(e=>`+${e}`),getOptionLabel:ue,groupBy:ce,handleHomeEndKeys:me=!c.freeSolo,includeInputInList:ge=!1,limitTags:be=-1,ListboxComponent:he="ul",ListboxProps:fe,loading:ve=!1,loadingText:xe="Loadingâ€¦",multiple:ye=!1,noOptionsText:Ie="No options",openOnFocus:Oe=!1,openText:$e="Open",PaperComponent:Ce=I,PopperComponent:Pe=y,popupIcon:Te=w||(w=b(u,{})),readOnly:je=!1,renderGroup:Se,renderInput:Le,renderOption:we,renderTags:Ae,selectOnFocus:Re=!c.freeSolo,size:Ne="medium",slotProps:ze={}}=c,ke=e(c,A),{getRootProps:Fe,getInputProps:We,getInputLabelProps:Me,getPopupIndicatorProps:Be,getClearProps:Ee,getTagProps:Ve,getListboxProps:He,getOptionProps:De,value:Ue,dirty:Ge,expanded:Ke,id:qe,popupOpen:_e,focused:Je,focusedTag:Qe,anchorEl:Xe,setAnchorEl:Ye,inputValue:Ze,groupedOptions:eo}=$(o({},c,{componentName:"Autocomplete"})),oo=!ee&&!te&&Ge&&!je,to=(!ie||!0===le)&&!1!==le,{onMouseDown:no}=We(),{ref:ao}=null!=fe?fe:{},po=He(),{ref:ro}=po,lo=e(po,R),io=C(ro,ao),so=ue||(e=>{var o;return null!=(o=e.label)?o:e}),uo=o({},c,{disablePortal:pe,expanded:Ke,focused:Je,fullWidth:se,getOptionLabel:so,hasClearIcon:oo,hasPopupIcon:to,inputFocused:-1===Qe,popupOpen:_e,size:Ne}),co=(e=>{const{classes:o,disablePortal:t,expanded:n,focused:a,fullWidth:p,hasClearIcon:r,hasPopupIcon:l,inputFocused:i,popupOpen:s,size:d}=e,u={root:["root",n&&"expanded",a&&"focused",p&&"fullWidth",r&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",i&&"inputFocused"],tag:["tag",`tagSize${v(d)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",s&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return S(u,g,o)})(uo);let mo;if(ye&&Ue.length>0){const t=e=>o({className:co.tag,disabled:te},Ve(e));mo=Ae?Ae(Ue,t,uo):Ue.map(((n,a)=>{const p=t({index:a}),{key:r}=p,l=e(p,N);return b(P,o({label:so(n),size:Ne},l,T),r)}))}if(be>-1&&Array.isArray(mo)){const e=mo.length-be;!Je&&e>0&&(mo=mo.splice(0,be),mo.push(b("span",{className:co.tag,children:de(e)},mo.length)))}const go=Se||(e=>h("li",{children:[b(G,{className:co.groupLabel,ownerState:uo,component:"div",children:e.group}),b(K,{className:co.groupUl,ownerState:uo,children:e.children})]},e.key)),bo=we||((t,n)=>{const{key:a}=t,p=e(t,z);return b("li",o({},p,{children:so(n)}),a)}),ho=(e,t)=>{const n=De({option:e,index:t});return bo(o({},n,{className:co.option}),e,{selected:n["aria-selected"],index:t,inputValue:Ze},uo)},fo=null!=(r=ze.clearIndicator)?r:Y.clearIndicator,vo=null!=(l=ze.paper)?l:Y.paper,xo=null!=(i=ze.popper)?i:Y.popper,yo=null!=(s=ze.popupIndicator)?s:Y.popupIndicator,Io=e=>b(E,o({as:Pe,disablePortal:pe,style:{width:Xe?Xe.clientWidth:null},ownerState:uo,role:"presentation",anchorEl:Xe,open:_e},xo,{className:a(co.popper,null==xo?void 0:xo.className),children:b(V,o({ownerState:uo,as:Ce},vo,{className:a(co.paper,null==vo?void 0:vo.className),children:e}))}));let Oo=null;return eo.length>0?Oo=Io(b(U,o({as:he,className:co.listbox,ownerState:uo},lo,fe,{ref:io,children:eo.map(((e,o)=>ce?go({key:e.key,group:e.group,children:e.options.map(((o,t)=>ho(o,e.index+t)))}):ho(e,o)))}))):ve&&0===eo.length?Oo=Io(b(H,{className:co.loading,ownerState:uo,children:xe})):0!==eo.length||ie||ve||(Oo=Io(b(D,{className:co.noOptions,ownerState:uo,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:Ie}))),h(t.Fragment,{children:[b(F,o({ref:p,className:a(co.root,j),ownerState:uo},Fe(ke),{children:Le({id:qe,disabled:te,fullWidth:!0,size:"small"===Ne?"small":void 0,InputLabelProps:Me(),InputProps:o({ref:Ye,className:co.inputRoot,startAdornment:mo,onClick:e=>{e.target===e.currentTarget&&no(e)}},(oo||to)&&{endAdornment:h(W,{className:co.endAdornment,ownerState:uo,children:[oo?b(M,o({},Ee(),{"aria-label":Q,title:Q,ownerState:uo},fo,{className:a(co.clearIndicator,null==fo?void 0:fo.className),children:q})):null,to?b(B,o({},Be(),{disabled:te,"aria-label":_e?X:$e,title:_e?X:$e,ownerState:uo},yo,{className:a(co.popupIndicator,null==yo?void 0:yo.className),children:Te})):null]})}),inputProps:o({className:co.input,disabled:te,readOnly:je},We())})})),Xe?Oo:null]})}));"production"!==process.env.NODE_ENV&&(q.propTypes={autoComplete:n.bool,autoHighlight:n.bool,autoSelect:n.bool,blurOnSelect:n.oneOfType([n.oneOf(["mouse","touch"]),n.bool]),ChipProps:n.object,classes:n.object,className:n.string,clearIcon:n.node,clearOnBlur:n.bool,clearOnEscape:n.bool,clearText:n.string,closeText:n.string,componentsProps:n.shape({clearIndicator:n.object,paper:n.object,popper:n.object,popupIndicator:n.object}),defaultValue:T(n.any,(e=>e.multiple&&void 0!==e.defaultValue&&!Array.isArray(e.defaultValue)?new Error(["MUI: The Autocomplete expects the `defaultValue` prop to be an array when `multiple={true}` or undefined.",`However, ${e.defaultValue} was provided.`].join("\n")):null)),disableClearable:n.bool,disableCloseOnSelect:n.bool,disabled:n.bool,disabledItemsFocusable:n.bool,disableListWrap:n.bool,disablePortal:n.bool,filterOptions:n.func,filterSelectedOptions:n.bool,forcePopupIcon:n.oneOfType([n.oneOf(["auto"]),n.bool]),freeSolo:n.bool,fullWidth:n.bool,getLimitTagsText:n.func,getOptionDisabled:n.func,getOptionKey:n.func,getOptionLabel:n.func,groupBy:n.func,handleHomeEndKeys:n.bool,id:n.string,includeInputInList:n.bool,inputValue:n.string,isOptionEqualToValue:n.func,limitTags:j,ListboxComponent:n.elementType,ListboxProps:n.object,loading:n.bool,loadingText:n.node,multiple:n.bool,noOptionsText:n.node,onChange:n.func,onClose:n.func,onHighlightChange:n.func,onInputChange:n.func,onKeyDown:n.func,onOpen:n.func,open:n.bool,openOnFocus:n.bool,openText:n.string,options:n.array.isRequired,PaperComponent:n.elementType,PopperComponent:n.elementType,popupIcon:n.node,readOnly:n.bool,renderGroup:n.func,renderInput:n.func.isRequired,renderOption:n.func,renderTags:n.func,selectOnFocus:n.bool,size:n.oneOfType([n.oneOf(["small","medium"]),n.string]),slotProps:n.shape({clearIndicator:n.object,paper:n.object,popper:n.object,popupIndicator:n.object}),sx:n.oneOfType([n.arrayOf(n.oneOfType([n.func,n.object,n.bool])),n.func,n.object]),value:T(n.any,(e=>e.multiple&&void 0!==e.value&&!Array.isArray(e.value)?new Error(["MUI: The Autocomplete expects the `value` prop to be an array when `multiple={true}` or undefined.",`However, ${e.value} was provided.`].join("\n")):null))});var _=q;export{_ as default};
