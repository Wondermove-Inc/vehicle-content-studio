"use client";
import e from"../../../@babel/runtime/helpers/esm/extends.js";import*as n from"react";import{extractEventHandlers as t}from"../utils/extractEventHandlers.js";import o from"../../utils/useTimeout/useTimeout.js";import u from"../../utils/useEventCallback/useEventCallback.js";function r(r={}){const{autoHideDuration:s=null,disableWindowBlurListener:l=!1,onClose:i,open:c,resumeHideDuration:a}=r,d=o();n.useEffect((()=>{if(c)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==i||i(e,"escapeKeyDown")}}),[c,i]);const m=u(((e,n)=>{null==i||i(e,n)})),f=u((e=>{i&&null!=e&&d.start(e,(()=>{m(null,"timeout")}))}));n.useEffect((()=>(c&&f(s),d.clear)),[c,s,f,d]);const v=d.clear,E=n.useCallback((()=>{null!=s&&f(null!=a?a:.5*s)}),[s,a,f]),w=e=>n=>{const t=e.onFocus;null==t||t(n),v()},p=e=>n=>{const t=e.onMouseEnter;null==t||t(n),v()},k=e=>n=>{const t=e.onMouseLeave;null==t||t(n),E()};n.useEffect((()=>{if(!l&&c)return window.addEventListener("focus",E),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",E),window.removeEventListener("blur",v)}}),[l,c,E,v]);return{getRootProps:(n={})=>{const o=e({},t(r),t(n));return e({role:"presentation"},n,o,{onBlur:(u=o,e=>{const n=u.onBlur;null==n||n(e),E()}),onFocus:w(o),onMouseEnter:p(o),onMouseLeave:k(o)});var u},onClickAway:e=>{null==i||i(e,"clickaway")}}}export{r as useSnackbar};
