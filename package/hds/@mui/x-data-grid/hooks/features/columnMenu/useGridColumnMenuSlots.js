import e from"../../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import r from"../../../../../@babel/runtime/helpers/esm/extends.js";import*as t from"react";import{useGridPrivateApiContext as s}from"../../utils/useGridPrivateApiContext.js";import o from"../../../../material/Divider/Divider.js";const i=["displayOrder"],n=n=>{const l=s(),{defaultSlots:u,defaultSlotProps:c,slots:m={},slotProps:d={},hideMenu:p,colDef:a,addDividers:f=!0}=n,b=t.useMemo((()=>r({},u,m)),[u,m]),y=t.useMemo((()=>{if(!d||0===Object.keys(d).length)return c;const e=r({},d);return Object.entries(c).forEach((([t,s])=>{e[t]=r({},s,d[t]||{})})),e}),[c,d]),j=l.current.unstable_applyPipeProcessors("columnMenu",[],n.colDef),O=t.useMemo((()=>{const e=Object.keys(u);return Object.keys(m).filter((r=>!e.includes(r)))}),[m,u]);return t.useMemo((()=>{const t=Array.from(new Set([...j,...O])).filter((e=>null!=b[e])).sort(((e,r)=>{const t=y[e],s=y[r];return(Number.isFinite(t?.displayOrder)?t.displayOrder:100)-(Number.isFinite(s?.displayOrder)?s.displayOrder:100)}));return t.reduce(((s,n,l)=>{let u={colDef:a,onClick:p};const c=y[n];if(c){const t=e(c,i);u=r({},u,t)}return f&&l!==t.length-1?[...s,[b[n],u],[o,{}]]:[...s,[b[n],u]]}),[])}),[f,a,j,p,b,y,O])};export{n as useGridColumnMenuSlots};
