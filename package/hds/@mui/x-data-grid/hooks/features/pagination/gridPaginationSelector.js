import{createSelector as e,createSelectorMemoized as t}from"../../../utils/createSelector.js";import{gridFilteredSortedTopLevelRowEntriesSelector as i,gridExpandedSortedRowEntriesSelector as o,gridExpandedSortedRowIdsSelector as r}from"../filter/gridFilterSelector.js";import{gridRowMaximumTreeDepthSelector as n,gridRowTreeSelector as s}from"../rows/gridRowsSelector.js";import{getPageCount as a}from"./gridPaginationUtils.js";const d=e=>e.pagination,l=e(d,(e=>e.paginationModel)),g=e(d,(e=>e.rowCount)),p=e(d,(e=>e.meta)),f=e(l,(e=>e.page)),m=e(l,(e=>e.pageSize)),w=e(l,g,((e,t)=>a(t,e.pageSize,e.page))),c=t(l,s,n,o,i,((e,t,i,o,r)=>{const n=r.length,s=Math.min(e.pageSize*e.page,n-1),a=Math.min(s+e.pageSize-1,n-1);if(-1===s||-1===a)return null;if(i<2)return{firstRowIndex:s,lastRowIndex:a};const d=r[s],l=a-s+1,g=o.findIndex((e=>e.id===d.id));let p=g,f=0;for(;p<o.length&&f<=l;){const e=o[p],i=t[e.id]?.depth;void 0===i?p+=1:((f<l||i>0)&&(p+=1),0===i&&(f+=1))}return{firstRowIndex:g,lastRowIndex:p-1}})),x=t(o,c,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[])),I=t(r,c,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]));export{w as gridPageCountSelector,f as gridPageSelector,m as gridPageSizeSelector,x as gridPaginatedVisibleSortedGridRowEntriesSelector,I as gridPaginatedVisibleSortedGridRowIdsSelector,p as gridPaginationMetaSelector,l as gridPaginationModelSelector,g as gridPaginationRowCountSelector,c as gridPaginationRowRangeSelector,d as gridPaginationSelector};
