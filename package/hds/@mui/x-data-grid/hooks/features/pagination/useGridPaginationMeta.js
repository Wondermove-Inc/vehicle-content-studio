import t from"../../../../../@babel/runtime/helpers/esm/extends.js";import*as a from"react";import{gridPaginationMetaSelector as e}from"./gridPaginationSelector.js";import{useGridSelector as i}from"../../utils/useGridSelector.js";import{useGridLogger as n}from"../../utils/useGridLogger.js";import{useGridApiMethod as o}from"../../utils/useGridApiMethod.js";import{useGridRegisterPipeProcessor as r}from"../../core/pipeProcessing/useGridRegisterPipeProcessor.js";const s=(s,p)=>{const g=n(s,"useGridPaginationMeta"),l=i(s,e);s.current.registerControlState({stateId:"paginationMeta",propModel:p.paginationMeta,propOnChange:p.onPaginationMetaChange,stateSelector:e,changeEvent:"paginationMetaChange"});const c=a.useCallback((a=>{l!==a&&(g.debug("Setting 'paginationMeta' to",a),s.current.setState((e=>t({},e,{pagination:t({},e.pagination,{meta:a})}))))}),[s,g,l]);o(s,{setPaginationMeta:c},"public");const m=a.useCallback(((a,i)=>{const n=e(s);return!i.exportOnlyDirtyModels||null!=p.paginationMeta||null!=p.initialState?.pagination?.meta?t({},a,{pagination:t({},a.pagination,{meta:n})}):a}),[s,p.paginationMeta,p.initialState?.pagination?.meta]),u=a.useCallback(((a,i)=>{const n=i.stateToRestore.pagination?.meta?i.stateToRestore.pagination.meta:e(s);return s.current.setState((a=>t({},a,{pagination:t({},a.pagination,{meta:n})}))),a}),[s]);r(s,"exportState",m),r(s,"restoreState",u),a.useEffect((()=>{p.paginationMeta&&s.current.setPaginationMeta(p.paginationMeta)}),[s,p.paginationMeta])};export{s as useGridPaginationMeta};
