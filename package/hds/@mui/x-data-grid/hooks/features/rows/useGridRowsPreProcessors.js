import e from"../../../../../@babel/runtime/helpers/esm/extends.js";import{GRID_ROOT_GROUP_ID as t,buildRootGroup as r}from"./gridRowsUtils.js";import{useGridRegisterStrategyProcessor as s}from"../../core/strategyProcessing/useGridRegisterStrategyProcessor.js";import{GRID_DEFAULT_STRATEGY as o}from"../../core/strategyProcessing/useGridStrategyProcessing.js";const n=s=>"full"===s.updates.type?(s=>{const n={[t]:e({},r(),{children:s})};for(let e=0;e<s.length;e+=1){const r=s[e];n[r]={id:r,depth:0,parent:t,type:"leaf",groupingKey:null}}return{groupingName:o,tree:n,treeDepths:{0:s.length},dataRowIds:s}})(s.updates.rows):(({previousTree:r,actions:s})=>{const n=e({},r),i={};for(let e=0;e<s.remove.length;e+=1){const t=s.remove[e];i[t]=!0,delete n[t]}for(let e=0;e<s.insert.length;e+=1){const r=s.insert[e];n[r]={id:r,depth:0,parent:t,type:"leaf",groupingKey:null}}const l=n[t];let p=[...l.children,...s.insert];return Object.values(i).length&&(p=p.filter((e=>!i[e]))),n[t]=e({},l,{children:p}),{groupingName:o,tree:n,treeDepths:{0:p.length},dataRowIds:p}})({previousTree:s.previousTree,actions:s.updates.actions}),i=e=>{s(e,o,"rowTreeCreation",n)};export{i as useGridRowsPreProcessors};
