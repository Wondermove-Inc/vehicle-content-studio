import*as e from"react";import{isFunction as t}from"../../utils/utils.js";import{useGridLogger as r}from"./useGridLogger.js";const n=(n,s,u,i,c)=>{const o=r(n,"useNativeEventListener"),[a,v]=e.useState(!1),f=e.useRef(i),m=t(s)?s():s?.current??null,l=e.useCallback((e=>f.current&&f.current(e)),[]);e.useEffect((()=>{f.current=i}),[i]),e.useEffect((()=>{if(m&&u&&!a){o.debug(`Binding native ${u} event`),m.addEventListener(u,l,c),v(!0);const e=()=>{o.debug(`Clearing native ${u} event`),m.removeEventListener(u,l,c)};n.current.subscribeEvent("unmount",e)}}),[m,l,u,a,o,c,n])};export{n as useGridNativeEventListener};
