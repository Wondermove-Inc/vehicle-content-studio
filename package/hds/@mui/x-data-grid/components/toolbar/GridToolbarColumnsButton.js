import e from"../../../../@babel/runtime/helpers/esm/extends.js";import*as o from"react";import r from"../../../../prop-types/index.js";import{useGridSelector as t}from"../../hooks/utils/useGridSelector.js";import{gridPreferencePanelStateSelector as s}from"../../hooks/features/preferencesPanel/gridPreferencePanelSelector.js";import{GridPreferencePanelsValue as l}from"../../hooks/features/preferencesPanel/gridPreferencePanelsValue.js";import{useGridApiContext as n}from"../../hooks/utils/useGridApiContext.js";import{useGridRootProps as i}from"../../hooks/utils/useGridRootProps.js";import{jsx as a}from"react/jsx-runtime";import p from"../../../utils/useId/useId.js";const c=o.forwardRef((function(o,r){const{slotProps:c={}}=o,u=c.button||{},m=c.tooltip||{},f=p(),d=p(),b=n(),P=i(),h=t(b,s);if(P.disableColumnSelector)return null;const j=h.open&&h.panelId===d;return a(P.slots.baseTooltip,e({title:b.current.getLocaleText("toolbarColumnsLabel"),enterDelay:1e3},m,P.slotProps?.baseTooltip,{children:a(P.slots.baseButton,e({ref:r,id:f,size:"small","aria-label":b.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":j,"aria-controls":j?d:void 0,startIcon:a(P.slots.columnSelectorIcon,{})},u,{onClick:e=>{h.open&&h.openedPanelValue===l.columns?b.current.hidePreferences():b.current.showPreferences(l.columns,d,f),u.onClick?.(e)}},P.slotProps?.baseButton,{children:b.current.getLocaleText("toolbarColumns")}))}))}));"production"!==process.env.NODE_ENV&&(c.propTypes={slotProps:r.object});export{c as GridToolbarColumnsButton};
