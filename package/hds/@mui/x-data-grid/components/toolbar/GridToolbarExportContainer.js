import o from"../../../../@babel/runtime/helpers/esm/extends.js";import*as e from"react";import t from"../../../../prop-types/index.js";import{isTabKey as r,isHideMenuKey as s}from"../../utils/keyboardUtils.js";import{useGridApiContext as l}from"../../hooks/utils/useGridApiContext.js";import{GridMenu as i}from"../menu/GridMenu.js";import{useGridRootProps as n}from"../../hooks/utils/useGridRootProps.js";import{gridClasses as a}from"../../constants/gridClasses.js";import{jsxs as p,jsx as m}from"react/jsx-runtime";import u from"../../../utils/useId/useId.js";import c from"../../../utils/useForkRef/useForkRef.js";import d from"../../../material/MenuList/MenuList.js";const f=e.forwardRef((function(t,f){const{children:b,slotProps:x={}}=t,h=x.button||{},j=x.tooltip||{},k=l(),y=n(),L=u(),E=u(),[g,C]=e.useState(!1),T=e.useRef(null),I=c(f,T),P=()=>C(!1);return null==b?null:p(e.Fragment,{children:[m(y.slots.baseTooltip,o({title:k.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},j,y.slotProps?.baseTooltip,{children:m(y.slots.baseButton,o({ref:I,size:"small",startIcon:m(y.slots.exportIcon,{}),"aria-expanded":g,"aria-label":k.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":g?E:void 0,id:L},h,{onClick:o=>{C((o=>!o)),h.onClick?.(o)}},y.slotProps?.baseButton,{children:k.current.getLocaleText("toolbarExport")}))})),m(i,{open:g,target:T.current,onClose:P,position:"bottom-start",children:m(d,{id:E,className:a.menuList,"aria-labelledby":L,onKeyDown:o=>{r(o.key)&&o.preventDefault(),s(o.key)&&P()},autoFocusItem:g,children:e.Children.map(b,(o=>e.isValidElement(o)?e.cloneElement(o,{hideMenu:P}):o))})})]})}));"production"!==process.env.NODE_ENV&&(f.propTypes={slotProps:t.object});export{f as GridToolbarExportContainer};
