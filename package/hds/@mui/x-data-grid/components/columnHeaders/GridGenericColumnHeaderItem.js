import e from"../../../../@babel/runtime/helpers/esm/extends.js";import r from"../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import*as o from"react";import{clsx as t}from"../../node_modules/clsx/dist/clsx.js";import{useGridPrivateApiContext as n}from"../../hooks/utils/useGridPrivateApiContext.js";import{GridColumnHeaderTitle as s}from"./GridColumnHeaderTitle.js";import{GridColumnHeaderSeparator as i}from"./GridColumnHeaderSeparator.js";import{useGridRootProps as a}from"../../hooks/utils/useGridRootProps.js";import{jsxs as l,jsx as c}from"react/jsx-runtime";import u from"../../../utils/useForkRef/useForkRef.js";const d=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],m=o.forwardRef((function(m,p){const{classes:h,colIndex:f,height:b,isResizing:g,sortDirection:C,hasFocus:x,tabIndex:j,separatorSide:I,isDraggable:R,headerComponent:v,description:z,width:P,columnMenuIconButton:H=null,columnMenu:M=null,columnTitleIconButtons:N=null,headerClassName:S,label:y,resizable:k,draggableContainerProps:w,columnHeaderSeparatorProps:B,style:D}=m,F=r(m,d),G=n(),W=a(),L=o.useRef(null),T=u(L,p);let q="none";return null!=C&&(q="asc"===C?"ascending":"descending"),o.useLayoutEffect((()=>{const e=G.current.state.columnMenu;if(x&&!e.open){const e=L.current.querySelector('[tabindex="0"]')||L.current;e?.focus(),G.current.columnHeadersContainerRef?.current&&(G.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[G,x]),l("div",e({ref:T,className:t(h.root,S),style:e({},D,{height:b,width:P,minWidth:P,maxWidth:P}),role:"columnheader",tabIndex:j,"aria-colindex":f+1,"aria-sort":q,"aria-label":null==v?y:void 0},F,{children:[l("div",e({className:h.draggableContainer,draggable:R,role:"presentation"},w,{children:[l("div",{className:h.titleContainer,role:"presentation",children:[c("div",{className:h.titleContainerContent,children:void 0!==v?v:c(s,{label:y,description:z,columnWidth:P})}),N]}),H]})),c(i,e({resizable:!W.disableColumnResize&&!!k,resizing:g,height:b,side:I},B)),M]}))}));export{m as GridGenericColumnHeaderItem};
