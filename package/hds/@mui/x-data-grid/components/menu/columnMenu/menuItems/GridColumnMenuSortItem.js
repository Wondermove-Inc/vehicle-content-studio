import*as e from"react";import o from"../../../../../../prop-types/index.js";import{useGridSelector as r}from"../../../../hooks/utils/useGridSelector.js";import{gridSortModelSelector as t}from"../../../../hooks/features/sorting/gridSortingSelector.js";import{useGridApiContext as n}from"../../../../hooks/utils/useGridApiContext.js";import{useGridRootProps as l}from"../../../../hooks/utils/useGridRootProps.js";import{jsxs as i,jsx as s}from"react/jsx-runtime";import c from"../../../../../material/MenuItem/MenuItem.js";import u from"../../../../../material/ListItemIcon/ListItemIcon.js";import m from"../../../../../material/ListItemText/ListItemText.js";function d(o){const{colDef:d,onClick:a}=o,f=n(),p=r(f,t),g=l(),h=e.useMemo((()=>{if(!d)return null;const e=p.find((e=>e.field===d.field));return e?.sort}),[d,p]),j=d.sortingOrder??g.sortingOrder,k=e.useCallback((e=>{a(e);const o=e.currentTarget.getAttribute("data-value")||null;f.current.sortColumn(d.field,o===h?null:o)}),[f,d,a,h]);if(g.disableColumnSorting||!d||!d.sortable||!j.some((e=>!!e)))return null;const I=e=>{const o=f.current.getLocaleText(e);return"function"==typeof o?o(d):o};return i(e.Fragment,{children:[j.includes("asc")&&"asc"!==h?i(c,{onClick:k,"data-value":"asc",children:[s(u,{children:s(g.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),s(m,{children:I("columnMenuSortAsc")})]}):null,j.includes("desc")&&"desc"!==h?i(c,{onClick:k,"data-value":"desc",children:[s(u,{children:s(g.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),s(m,{children:I("columnMenuSortDesc")})]}):null,j.includes(null)&&null!=h?i(c,{onClick:k,children:[s(u,{}),s(m,{children:f.current.getLocaleText("columnMenuUnsort")})]}):null]})}"production"!==process.env.NODE_ENV&&(d.propTypes={colDef:o.object.isRequired,onClick:o.func.isRequired});export{d as GridColumnMenuSortItem};
