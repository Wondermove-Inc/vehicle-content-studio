import e from"../../../../../@babel/runtime/helpers/esm/extends.js";import t from"../../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import*as r from"react";import o from"../../../../../prop-types/index.js";import{useGridRootProps as s}from"../../../hooks/utils/useGridRootProps.js";import{jsx as i}from"react/jsx-runtime";import n from"../../../../utils/useTimeout/useTimeout.js";import a from"../../../../utils/useId/useId.js";const u=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function l(o){const{item:l,applyValue:p,type:c,apiRef:d,focusElementRef:m,tabIndex:f,disabled:b,clearButton:v,InputProps:I,variant:R="standard"}=o,x=t(o,u),P=n(),[y,h]=r.useState(l.value??""),[j,g]=r.useState(!1),T=a(),q=s(),E=r.useCallback((t=>{const{value:r}=t.target;h(String(r)),g(!0),P.start(q.filterDebounceMs,(()=>{const t=e({},l,{value:r,fromInput:T});p(t),g(!1)}))}),[T,p,l,q.filterDebounceMs,P]);return r.useEffect((()=>{l.fromInput===T&&void 0!==l.value||h(String(l.value??""))}),[T,l]),i(q.slots.baseTextField,e({id:T,label:d.current.getLocaleText("filterPanelInputLabel"),placeholder:d.current.getLocaleText("filterPanelInputPlaceholder"),value:y,onChange:E,variant:R,type:c||"text",InputProps:e({},j||v?{endAdornment:j?i(q.slots.loadIcon,{fontSize:"small",color:"action"}):v}:{},{disabled:b},I,{inputProps:e({tabIndex:f},I?.inputProps)}),InputLabelProps:{shrink:!0},inputRef:m},x,q.slotProps?.baseTextField))}"production"!==process.env.NODE_ENV&&(l.propTypes={apiRef:o.shape({current:o.object.isRequired}).isRequired,applyValue:o.func.isRequired,clearButton:o.node,focusElementRef:o.oneOfType([o.func,o.object]),isFilterActive:o.bool,item:o.shape({field:o.string.isRequired,id:o.oneOfType([o.number,o.string]),operator:o.string.isRequired,value:o.any}).isRequired});export{l as GridFilterInputValue};
