import e from"../../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js";import t from"../../../../../@babel/runtime/helpers/esm/extends.js";import*as l from"react";import{createElement as o}from"react";import r from"../../../../../prop-types/index.js";import{useGridRootProps as i}from"../../../hooks/utils/useGridRootProps.js";import{isSingleSelectColDef as n,getValueOptions as s,getValueFromValueOptions as a}from"./filterPanelUtils.js";import{jsxs as p,jsx as u}from"react/jsx-runtime";import c from"../../../../material/styles/styled.js";import m from"../../../../utils/useId/useId.js";const d=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],f=({column:e,OptionComponent:l,getOptionLabel:r,getOptionValue:i,isSelectNative:n,baseSelectOptionProps:a})=>["",...s(e)||[]].map((e=>{const s=i(e);let p=r(e);return""===p&&(p="â€ƒ"),o(l,t({},a,{native:n,key:s,value:s}),p)})),b=c("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function h(o){const{item:r,applyValue:c,type:h,apiRef:v,focusElementRef:g,placeholder:x,tabIndex:y,label:O,variant:P="standard",clearButton:R}=o,I=e(o,d),j=r.value??"",L=m(),S=m(),V=i(),q=V.slotProps?.baseSelect?.native??!1;let C=null;if(r.field){const e=v.current.getColumn(r.field);n(e)&&(C=e)}const E=C?.getOptionValue,T=C?.getOptionLabel,k=l.useMemo((()=>s(C)),[C]),F=l.useCallback((e=>{let l=e.target.value;l=a(l,k,E),c(t({},r,{value:l}))}),[k,E,c,r]);if(!n(C))return null;const N=O??v.current.getLocaleText("filterPanelInputLabel");return p(b,{children:[p(V.slots.baseFormControl,{fullWidth:!0,children:[u(V.slots.baseInputLabel,t({},V.slotProps?.baseInputLabel,{id:S,htmlFor:L,shrink:!0,variant:P,children:N})),u(V.slots.baseSelect,t({id:L,label:N,labelId:S,value:j,onChange:F,variant:P,type:h||"text",inputProps:{tabIndex:y,ref:g,placeholder:x??v.current.getLocaleText("filterPanelInputPlaceholder")},native:q,notched:"outlined"===P||void 0},I,V.slotProps?.baseSelect,{children:f({column:C,OptionComponent:V.slots.baseSelectOption,getOptionLabel:T,getOptionValue:E,isSelectNative:q,baseSelectOptionProps:V.slotProps?.baseSelectOption})}))]}),R]})}"production"!==process.env.NODE_ENV&&(h.propTypes={apiRef:r.shape({current:r.object.isRequired}).isRequired,applyValue:r.func.isRequired,clearButton:r.node,focusElementRef:r.oneOfType([r.func,r.object]),isFilterActive:r.bool,item:r.shape({field:r.string.isRequired,id:r.oneOfType([r.number,r.string]),operator:r.string.isRequired,value:r.any}).isRequired});export{h as GridFilterInputSingleSelect};
