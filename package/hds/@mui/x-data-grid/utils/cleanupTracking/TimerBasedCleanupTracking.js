class t{constructor(t=1e3){this.timeouts=new Map,this.cleanupTimeout=1e3,this.cleanupTimeout=t}register(t,e,s){this.timeouts||(this.timeouts=new Map);const i=setTimeout((()=>{"function"==typeof e&&e(),this.timeouts.delete(s.cleanupToken)}),this.cleanupTimeout);this.timeouts.set(s.cleanupToken,i)}unregister(t){const e=this.timeouts.get(t.cleanupToken);e&&(this.timeouts.delete(t.cleanupToken),clearTimeout(e))}reset(){this.timeouts&&(this.timeouts.forEach(((t,e)=>{this.unregister({cleanupToken:e})})),this.timeouts=void 0)}}export{t as TimerBasedCleanupTracking};
