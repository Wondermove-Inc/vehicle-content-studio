import{top as t,left as e,right as o,end as i,bottom as s}from"../enums.js";import a from"../dom-utils/getOffsetParent.js";import r from"../dom-utils/getWindow.js";import p from"../dom-utils/getDocumentElement.js";import n from"../dom-utils/getComputedStyle.js";import l from"../utils/getBasePlacement.js";import f from"../utils/getVariation.js";import{round as m}from"../utils/math.js";var u={top:"auto",right:"auto",bottom:"auto",left:"auto"};function d(l){var f,d=l.popper,c=l.popperRect,v=l.placement,g=l.variation,x=l.offsets,y=l.position,O=l.gpuAcceleration,j=l.adaptive,b=l.roundOffsets,h=l.isFixed,w=x.x,P=void 0===w?0:w,D=x.y,V=void 0===D?0:D,R="function"==typeof b?b({x:P,y:V}):{x:P,y:V};P=R.x,V=R.y;var W=x.hasOwnProperty("x"),A=x.hasOwnProperty("y"),F=e,H=t,S=window;if(j){var B=a(d),C="clientHeight",E="clientWidth";if(B===r(d)&&(B=p(d),"static"!==n(B).position&&"absolute"===y&&(C="scrollHeight",E="scrollWidth")),v===t||(v===e||v===o)&&g===i)H=s,V-=(h&&B===S&&S.visualViewport?S.visualViewport.height:B[C])-c.height,V*=O?1:-1;if(v===e||(v===t||v===s)&&g===i)F=o,P-=(h&&B===S&&S.visualViewport?S.visualViewport.width:B[E])-c.width,P*=O?1:-1}var k,q=Object.assign({position:y},j&&u),z=!0===b?function(t,e){var o=t.x,i=t.y,s=e.devicePixelRatio||1;return{x:m(o*s)/s||0,y:m(i*s)/s||0}}({x:P,y:V},r(d)):{x:P,y:V};return P=z.x,V=z.y,O?Object.assign({},q,((k={})[H]=A?"0":"",k[F]=W?"0":"",k.transform=(S.devicePixelRatio||1)<=1?"translate("+P+"px, "+V+"px)":"translate3d("+P+"px, "+V+"px, 0)",k)):Object.assign({},q,((f={})[H]=A?V+"px":"",f[F]=W?P+"px":"",f.transform="",f))}var c={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,o=t.options,i=o.gpuAcceleration,s=void 0===i||i,a=o.adaptive,r=void 0===a||a,p=o.roundOffsets,n=void 0===p||p,m={placement:l(e.placement),variation:f(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,d(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:n})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,d(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:n})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};export{c as default,d as mapToStyles};
