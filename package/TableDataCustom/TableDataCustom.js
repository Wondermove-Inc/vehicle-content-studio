"use client";
import{__rest as e,__assign as i,__makeTemplateObject as n}from"../hds/tslib/tslib.es6.js";import{jsxs as r,jsx as t,Fragment as o}from"react/jsx-runtime";import l from"../hds/@mui/material/styles/styled.js";import a,{forwardRef as s,useState as c,useMemo as d,useEffect as h}from"react";import{Checkbox as m}from"../Checkbox/Checkbox.js";import u from"../hook/useEffectAfterMount.js";import{Table as p}from"../Table/Table.js";import{TableBody as g}from"../TableBody/TableBody.js";import{TableCell as f}from"../TableCell/TableCell.js";import{TableContainer as b}from"../TableContainer/TableContainer.js";import{TableHead as P}from"../TableHead/TableHead.js";import{TablePagination as w}from"../TablePagination/TablePagination.js";import{TableRow as k}from"../TableRow/TableRow.js";import{TableSortLabel as C}from"../TableSortLabel/TableSortLabel.js";import{sortedValues as x}from"../utils/table.js";var v,T=l(s((function(n,l){var s=n.hdsProps,v=n.rows,T=n.columns,j=n.search,y=n.rowsPerPageOptions,S=void 0===y?[10,25,50,100]:y,O=n.onClickRow,_=n.onSelectionChanged,R=n.initialOrder,A=n.initialOrderBy,B=n.initialSelected,I=n.initialPage,N=n.initialRowsPerPage,H=e(n,["hdsProps","rows","columns","search","rowsPerPageOptions","onClickRow","onSelectionChanged","initialOrder","initialOrderBy","initialSelected","initialPage","initialRowsPerPage"]);s&&!0!==s||(s={});var z=a.useState(R||"asc"),D=z[0],L=z[1],E=a.useState(A||""),F=E[0],M=E[1],q=a.useState(B||[]),G=q[0],J=q[1],K=a.useState(I||0),Q=K[0],U=K[1],V=a.useState(N||10),W=V[0],X=V[1],Y=c(j),Z=Y[0],$=Y[1],ee=d((function(){return v.map((function(e,n){return i({hds__id:n},e)}))}),[v]),ie=d((function(){return x({rows:ee,order:D,orderBy:F,search:Z})}),[ee,D,F,Z]),ne=d((function(){return-1===W?ie:ie.slice(Q*W,Q*W+W)}),[ie,Q,W]),re=0===ne.length;return h((function(){$(j),U(0)}),[j]),u((function(){null==_||_(G)}),[G]),r("div",i({ref:l},H,{children:[t(b,{children:t(p,{hdsProps:{size:s.size},stickyHeader:!0,style:s.tableStyle,children:re?r(a.Fragment,{children:[t(P,{children:r(k,{children:[t(f,{hdsProps:!0,padding:"checkbox",sx:{width:56},children:t(m,{hdsProps:!0,disabled:!0})}),T.map((function(e){return t(f,{hdsProps:{align:e.columnAlign},sx:{width:e.width},children:t(C,{hdsProps:!0,children:e.label})},e.id)}))]})}),t(g,{children:t(k,{children:t(f,{hdsProps:{align:T[0].columnAlign},colSpan:ee.length,children:s.emptyItem?s.emptyItem:"No Item"})})})]},"empty-table"):r(o,{children:[t(P,{children:r(k,{children:[s.isCheckbox&&t(f,{hdsProps:!0,padding:"checkbox",sx:{width:56},children:t(m,{hdsProps:!0,indeterminate:G.length>0&&G.length<ee.length,checked:ee.length>0&&G.length===ee.length,onChange:function(e){return i=e,void(G.length>0&&G.length<ee.length||i.target.checked?J(ee.map((function(e){return e.hds__id}))):J([]));var i}})}),T.map((function(e){return t(f,{hdsProps:{align:e.columnAlign},sortDirection:F===e.id&&D,sx:{width:e.width},children:t(C,{hdsProps:!0,active:F===e.id,direction:F===e.id?D:"asc",onClick:function(){return i=e.id,n=F===i&&"desc"===D,L(F===i&&"asc"===D?"desc":"asc"),void M(n?"":i);var i,n},children:e.label})},e.id)}))]})}),t(g,{children:ne.map((function(e,n){var o=e.hds__id.toString(),l=-1!==G.indexOf(Number(o));return r(k,{hover:!0,onClick:function(){var e,i,n;null==O||O(Number(o)),s.isCheckbox&&(e=Number(o),i=G.indexOf(e),n=[],-1===i?n=n.concat(G,e):0===i?n=n.concat(G.slice(1)):i===G.length-1?n=n.concat(G.slice(0,-1)):i>0&&(n=n.concat(G.slice(0,i),G.slice(i+1))),J(n))},role:"checkbox","aria-checked":l,tabIndex:-1,selected:l,sx:i({},s.isCheckbox&&{cursor:"pointer"}),children:[s.isCheckbox&&t(f,{hdsProps:!0,children:t(m,{hdsProps:!0,checked:l})}),Object.keys(e).map((function(i){if("hds__id"!==i){var n=T.find((function(e){return e.id===i}));return t(f,{hdsProps:{align:null==n?void 0:n.rowAlign},children:e[i]},i)}}))]},o)}))})]})})}),t(w,{hdsProps:!0,component:"div",count:ie.length,rowsPerPage:W,rowsPerPageOptions:S,onRowsPerPageChange:function(e){X(parseInt(e.target.value,10)),U(0)},page:Q,onPageChange:function(e,i){return U(i)}})]}))})))(v||(v=n([""],[""])));T.displayName="TableDataCustom";export{T as TableDataCustom,T as default};
